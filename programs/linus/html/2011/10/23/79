    </div></td><td width="32"> </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2011/10/20/208">First message in thread</a></li><li><a href="/lkml/2011/10/20/208">Pawel Sikora</a><ul><li class="origin"><a href="">Linus Torvalds</a></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Sun, 23 Oct 2011 13:16:15 +0300</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: WARNING: at fs/dcache.c:2549 prepend_path+0x164/0x170() [Root dentry has weird name &lt;&gt;]</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody">Al, any idea on this one?<br /><br />mnt-&gt;mnt_parent should equal mnt only for a root dentry, but detaching<br />mount-points and mnt_clone() ends up doing it too, so maybe there is<br />some way where that "global_root" test triggers on a dentry that<br />hasn't been allocated with d_alloc_root().<br /><br />I wonder how useful that warning is at all.<br /><br />                      Linus<br /><br />On Thu, Oct 20, 2011 at 5:49 PM, Pawel Sikora &lt;pluto&#64;agmk.net&gt; wrote:<br />&gt; Hi,<br />&gt;<br />&gt; during the 3.0.6 kernel stressing on dual-opteron machine i've noticed warnings in dmesg.<br />&gt; bugzilla.kernel.org is down currently, so i'm CCing last fs/dcache.c commiters.<br />&gt; i hope that this shortlog will help you.<br />&gt;<br />&gt; BR,<br />&gt; Paweł.<br />&gt;<br />&gt; (...)<br />&gt; Oct 14 15:52:36 odra kernel: [   18.710510] igb: eth1 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: RX/TX<br />&gt; Oct 14 15:52:36 odra kernel: [   18.713039] ADDRCONF(NETDEV_CHANGE): eth1: link becomes ready<br />&gt; Oct 14 15:52:39 odra kernel: [   21.885578] FS-Cache: Loaded<br />&gt; Oct 14 15:52:39 odra kernel: [   21.898297] Registering the id_resolver key type<br />&gt; Oct 14 15:52:39 odra kernel: [   21.898325] FS-Cache: Netfs 'nfs' registered for caching<br />&gt; Oct 14 15:52:59 odra kernel: [   26.110041] eth0: no IPv6 routers present<br />&gt; Oct 14 15:53:02 odra kernel: [   29.363344] eth1: no IPv6 routers present<br />&gt; Oct 15 11:06:50 odra kernel: [69257.064455] process `sysctl' is using deprecated sysctl (syscall) net.ipv6.neigh.default.retrans_time; Use net.ipv6.neigh.default.retrans_time_ms instead.<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045721] ------------[ cut here ]------------<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045731] WARNING: at fs/dcache.c:2549 prepend_path+0x164/0x170()<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045734] Hardware name: H8DGU<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045736] Root dentry has weird name &lt;&gt;<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045737] Modules linked in: nfs fscache binfmt_misc nfsd lockd exportfs nfs_acl auth_rpcgss sunrpc ipmi_si ipmi_devintf ipmi_msghandler sch_sfq iptable_nat nf_nat nf_conntrack_ipv4 nf_conntrack nf_defrag_ipv4 iptable_filter xt_TCPMSS xt_tcpudp iptable_mangle ip_tables ip6table_filter ip6_tables x_tables ext4 jbd2 crc16 raid0 dm_mod autofs4 dummy usbhid hid ide_cd_mod cdrom ata_generic pata_acpi ohci_hcd pata_atiixp ide_pci_generic ssb pcmcia sp5100_tco pcmcia_core ehci_hcd amd64_edac_mod pcspkr edac_core evdev mmc_core atiixp igb i2c_piix4 i2c_core ide_core edac_mce_amd processor ghes usbcore psmouse serio_raw button k10temp hed hwmon dca sg sd_mod crc_t10dif raid1 md_mod ext3 jbd mbcache ahci libahci libata scsi_mod [last unloaded: scsi_wait_scan]<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045799] Pid: 8349, comm: pidof Not tainted 3.0.6-dirty #2<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045802] Call Trace:<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045812]  [&lt;ffffffff8104718a&gt;] warn_slowpath_common+0x7a/0xb0<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045817]  [&lt;ffffffff81047261&gt;] warn_slowpath_fmt+0x41/0x50<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045822]  [&lt;ffffffff81415c74&gt;] ? __slab_free+0xfc/0x105<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045825]  [&lt;ffffffff8114bac4&gt;] prepend_path+0x164/0x170<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045829]  [&lt;ffffffff8114bb27&gt;] path_with_deleted+0x57/0xa0<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045831]  [&lt;ffffffff8114bc21&gt;] d_path+0xb1/0xe0<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045837]  [&lt;ffffffff811906db&gt;] proc_pid_readlink+0x8b/0xf0<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045841]  [&lt;ffffffff8113baa6&gt;] sys_readlinkat+0xa6/0xb0<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045844]  [&lt;ffffffff8113bac6&gt;] sys_readlink+0x16/0x20<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045849]  [&lt;ffffffff81421f7b&gt;] system_call_fastpath+0x16/0x1b<br />&gt; Oct 18 19:40:36 odra kernel: [359283.045851] ---[ end trace b5522e2b9acb171d ]---<br />&gt; (...)<br />&gt;<br />&gt;<br />--<br />To unsubscribe from this list: send the line "unsubscribe linux-kernel" in<br />the body of a message to majordomo&#64;vger.kernel.org<br />More majordomo info at  <a href="http://vger.kernel.org/majordomo-info.html">http://vger.kernel.org/majordomo-info.html</a><br />Please read the FAQ at  <a href="http://www.tux.org/lkml/">http://www.tux.org/lkml/</a><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
