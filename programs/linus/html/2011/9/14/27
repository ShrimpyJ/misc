    </div></td><td width="32"> </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2011/9/13/224">First message in thread</a></li><li><a href="/lkml/2011/9/13/224">Junio C Hamano</a><ul><li><a href="/lkml/2011/9/13/415">Sam Vilain</a></li><li class="origin"><a href="">Linus Torvalds</a></li><li><a href="/lkml/2011/9/14/236">Andy Lutomirski</a></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Wed, 14 Sep 2011 00:06:37 -0700</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Fwd: [Survey] Signed push</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody">Recovering lost emails. Or maybe you get duplicates. Sorry about that if so,<br /><br />                   Linus<br /><br />---------- Forwarded message ----------<br />From: Linus Torvalds &lt;torvalds&#64;linux-foundation.org&gt;<br />Date: Tue, Sep 13, 2011 at 10:48 AM<br />Subject: Re: [Survey] Signed push<br />To: Junio C Hamano &lt;gitster&#64;pobox.com&gt;<br />Cc: git&#64;vger.kernel.org, linux-kernel&#64;vger.kernel.org<br /><br /><br />On Tue, Sep 13, 2011 at 9:45 AM, Junio C Hamano &lt;gitster&#64;pobox.com&gt; wrote:<br />&gt;<br />&gt; We have a tentative patch to add an extra line after the "URL branch" line<br />&gt; that is for your cut &amp; paste that looks like:<br />&gt;<br />&gt;    are available in the git repository at:<br />&gt;      git://git.kernel.org/pub/flobar.git/ master<br />&gt;    for you to fetch changes up to 5738c9c21e53356ab5020912116e7f82fd2d428f<br />&gt;<br />&gt; I often see you respond to a pull request on the kernel mailing list with<br />&gt; "I see nothing new; forgot to push?", and having this extra line may also<br />&gt; help communication.<br /><br />I think that would probably be a good idea, although I'd actually<br />prefer you to be more verbose, and more human-friendly, and actually<br />talk about the commit in a readable way. Get rid of the *horrible*<br />BRANCH-NOT-VERIFIED message (that actually messes up pull requests if<br />mirroring is a bit delayed and throws away more important<br />information), and instead just have a blurb afterwards saying<br />something human-readable like<br /><br /> Top commit 1f51b001cccf: "Merge branches 'cns3xxx/fixes',<br /> 'omap/fixes' and 'davinci/fixes' into fixes"<br /><br /> and at *that* point you might have a "UNVERIFIED" notice for people<br />to check if they forgot to push.<br /><br />So I'd much prefer something like that over:<br /><br />&gt; An alternative that I am considering is to let the requester say this<br />&gt; instead:<br />&gt;<br />&gt;    are available in the git repository at:<br />&gt;      git://git.kernel.org/pub/flobar.git/ 5738c9c21e53356ab5020912116e7f82fd2d428f<br />&gt;<br />&gt; without adding the extra line.<br /><br />The extra line in the pull request is cheap - it's not like we need to<br />ration them. The above format, in contrast, requires that the person<br />doing the *pull* have a recent enough git client, otherwise the merge<br />commit message will be just horrible.<br /><br />And even if you do have a new git client that turns the commit into a<br />branch name, that's ambigious. What if both 'master' and<br />'experimental' have the same top commit, because experimental ended up<br />being tested and was percolated to master? Which branch name would you<br />pick? And what if the branch was updated since, so *no* branch name<br />matches - does that mean that you'd disallow the pull entirely?<br /><br />&gt; 2. Signed pushes.<br />&gt;<br />&gt; You tag official releases and release candidates with your GPG key, and<br />&gt; everybody who works within the kernel ecosystem trusts the history behind<br />&gt; the commits pointed by them, but there is no easy way to verify that<br />&gt; commits and merges between the last tagged commit and the tip of your<br />&gt; branch(es) are indeed from you, or if an intruder piled fake ones on top<br />&gt; of your commits (until you try to push again and discover that the history<br />&gt; does not fast-forward, that is).<br />&gt;<br />&gt; We have been discussing an addition of "git push -s" to let people sign<br />&gt; their pushes (instead of having to sign every commit or add signed<br />&gt; tag). The implementation alternatives were being bikeshed but not of much<br />&gt; interest in this message, but the user experience would go like this:<br /><br />Also, if we're adding branch information, I'd say that a description<br />of the branch is more important than a signature. Right now we lack<br />even that.<br /><br />It would be lovely if people could annotate their branches with<br />descriptions, so that when I pull a "for-linus" branch, if it has a<br />description, the description of the branch makes it into the merge<br />message. Our merge messages are often not very informative.<br /><br />I realize that cryptographic signature sound very important right now,<br />but in the end, *real* trust comes from people, not from signatures.<br />Realistically, I checked a few signatures this time around due to the<br />k.org issues, but at the same thing, the thing that made me trust most<br />of it was just looking at commits and the email messages. The<br />unconscious and non-cryptographic "signature" of a person acting like<br />you expect a person to act.<br /><br />Technical measures can be subverted, and I think we should also think<br />about the social side. Every time somebody mentions a signature, I<br />want to also mention "human readability", because I think that matters<br />as much, if not more.<br /><br />So I'm not against signed pushes, but quite frankly, if you add some<br />per-branch signature, I would argue against it unless that signature<br />also comes with information that allows us to do a better job of human<br />communication too. Like a branch description.<br /><br />Imagine, for example, than when you do a<br /><br />  git push -s ..<br /><br />git would *require* you to actually write a message about what you are<br />pushing. And when somebody pulls it, and creates a merge commit, that<br />explanation would become part of the merge message. The "signature"<br />part of the "-s" should be thought of as the *much* less interesting<br />part - that's just a small detail that git can use to verify<br />something, but it doesn't actually matter for the contents of the<br />pull. Not like the actual human-readable message would.<br /><br />Now *that* would be lovely. No?<br /><br />                       Linus<br />--<br />To unsubscribe from this list: send the line "unsubscribe linux-kernel" in<br />the body of a message to majordomo&#64;vger.kernel.org<br />More majordomo info at  <a href="http://vger.kernel.org/majordomo-info.html">http://vger.kernel.org/majordomo-info.html</a><br />Please read the FAQ at  <a href="http://www.tux.org/lkml/">http://www.tux.org/lkml/</a><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
