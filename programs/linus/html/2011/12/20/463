    </div></td><td width="32"> </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2011/12/20/387">First message in thread</a></li><li><a href="/lkml/2011/12/20/387">"Rafael J. Wysocki"</a><ul><li class="origin"><a href="/lkml/2011/12/20/489">Linus Torvalds</a><ul><li><a href="/lkml/2011/12/20/489">Dave Kleikamp</a><ul><li><a href="/lkml/2011/12/20/494">Linus Torvalds</a><ul><li><a href="/lkml/2011/12/21/20">Hugh Dickins</a></li></ul></li></ul></li><li><a href="/lkml/2011/12/20/498">David Miller</a></li></ul></li><li><a href="/lkml/2011/12/21/276">Nick Bowler</a><ul><li><a href="/lkml/2011/12/21/298">Keith Packard</a></li></ul></li><li><a href="/lkml/2011/12/21/415">Jan Kara</a></li><li><a href="/lkml/2011/12/22/111">"Srivatsa S. Bhat"</a><ul><li><a href="/lkml/2011/12/22/121">Jeff Layton</a></li></ul></li><li><a href="/lkml/2011/12/22/118">"Srivatsa S. Bhat"</a></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Tue, 20 Dec 2011 18:31:15 -0800</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: [Resend] 3.2-rc6+: Reported regressions from 3.0 and 3.1</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody">On Tue, Dec 20, 2011 at 3:54 PM, Rafael J. Wysocki &lt;rjw&#64;sisk.pl&gt; wrote:<br />&gt;<br />&gt; Subject    : Regression: "irqpoll" hasn't been working for me since March 16 IRQ<br />&gt; Submitter  : Edward Donovan &lt;edward.donovan&#64;numble.net&gt;<br />&gt; Date       : 2011-10-19 22:09<br />&gt; Message-ID : CADdbW+HXdCPfJu2RTF6zz+ujCmiu_dmZwL2iScuF53p=AaZ1Uw&#64;mail.gmail.com<br />&gt; References : <a href="https://marc.info/?l=linux-kernel&amp;m=131914554220679&amp;w=2">http://marc.info/?l=linux-kernel&amp;m=131914554220679&amp;w=2</a><br /><br />Edward fixed this in commit 52553ddffad76ccf192d4dd9ce88d5818f57f62a.<br /><br />&gt; Subject    : Linus GIT - INFO: possible circular locking dependency detected<br />&gt; Submitter  : Miles Lane &lt;miles.lane&#64;gmail.com&gt;<br />&gt; Date       : 2011-11-03 15:57<br />&gt; Message-ID : CAHFgRy8S0xLfhZxTUOEH5A0PL_Fb79-0-gmbQ=9h2D-xMqt1hA&#64;mail.gmail.com<br />&gt; References : <a href="https://marc.info/?l=linux-kernel&amp;m=132033587908426&amp;w=2">http://marc.info/?l=linux-kernel&amp;m=132033587908426&amp;w=2</a><br /><br />I *think* this is fixed by the revert in commit 5e442a493fc5.<br /><br />&gt; Subject    : Sparc-32 doesn't work in 3.1.<br />&gt; Submitter  : Rob Landley &lt;rob&#64;landley.net&gt;<br />&gt; Date       : 2011-11-12 11:22<br />&gt; Message-ID : 4EBEAB5A.5020809&#64;landley.net<br />&gt; References : <a href="https://www.spinics.net/lists/kernel/msg1260383.html">http://www.spinics.net/lists/kernel/msg1260383.html</a><br /><br />I'm pretty sure this is fixed by commit b1f44e13a525.<br /><br />&gt; Subject    : WARNING: at mm/slub.c:3357, kernel BUG at mm/slub.c:3413<br />&gt; Submitter  : Markus Trippelsdorf &lt;markus&#64;trippelsdorf.de&gt;<br />&gt; Date       : 2011-11-18 7:25<br />&gt; Message-ID : 20111118072519.GA1615&#64;x4.trippels.de<br />&gt; References : <a href="https://marc.info/?l=linux-kernel&amp;m=132160119031794&amp;w=2">http://marc.info/?l=linux-kernel&amp;m=132160119031794&amp;w=2</a><br /><br />This is a combination one, I think. There's some kexec trouble with<br />DRI and Radeons, and there on PPC the SLUB case was done incorrectly.<br /><br />The PPC case was fixed, the DRI/Radeon/kexec thing is pending for next<br />release, I'm afraid.<br /><br />&gt; Subject    : Bisected regression: hang on i915 between 3.1.0-rc9 and 3.1.0<br />&gt; Submitter  : Meelis Roos &lt;mroos&#64;linux.ee&gt;<br />&gt; Date       : 2011-11-22 10:15<br />&gt; Message-ID : alpine.SOC.1.00.1111221207090.6490&#64;math.ut.ee<br />&gt; References : <a href="https://marc.info/?l=linux-kernel&amp;m=132195700023709&amp;w=2">http://marc.info/?l=linux-kernel&amp;m=132195700023709&amp;w=2</a><br /><br />This is i915 vs VT-d. It may be fixed in current -git, but basically<br />people should try to avoid using VT-d with i915, there seem to be<br />hardware bugs wrt the graphics semaphores and power management code.<br /><br />&gt; Subject    : 3.2-rc2 regression: floppy driver breaks boot<br />&gt; Submitter  : Pavel Machek &lt;pavel&#64;ucw.cz&gt;<br />&gt; Date       : 2011-11-22 11:14<br />&gt; Message-ID : 20111122111405.GA28215&#64;elf.ucw.cz<br />&gt; References : <a href="https://marc.info/?l=linux-kernel&amp;m=132196052124801&amp;w=2">http://marc.info/?l=linux-kernel&amp;m=132196052124801&amp;w=2</a><br /><br />Hmm. I'd love to get more info. Turning off floppy support may work<br />around it, but I don't think we've actually seen the oops.<br /><br />&gt; Subject    : i915: 3.2 rc1/2 KMS regression<br />&gt; Submitter  : Patrik Kullman &lt;patrik.kullman&#64;gmail.com&gt;<br />&gt; Date       : 2011-11-23 23:43<br />&gt; Message-ID : CAGPN=9THOv-<br />&gt; M4Td4haE94uDcsAjW3eGMG7ioLeu+p8xUOBPd7w&#64;mail.gmail.com<br />&gt; References : <a href="https://marc.info/?l=linux-kernel&amp;m=132209186403288&amp;w=2">http://marc.info/?l=linux-kernel&amp;m=132209186403288&amp;w=2</a><br /><br />Fixed by commit ed4a51842a9d which reverted the problematic commit.<br /><br />&gt; Subject    : [regression] WARNING: at drivers/block/floppy.c:2929<br />&gt; do_fd_request+0xb7/0xb9() in 3.2.0-rc2 and 3<br />&gt; Submitter  : Ralf Hildebrandt &lt;Ralf.Hildebrandt&#64;charite.de&gt;<br />&gt; Date       : 2011-11-25 10:34<br />&gt; Message-ID : 20111125103420.GO4581&#64;charite.de<br />&gt; References : <a href="https://marc.info/?l=linux-kernel&amp;m=132221799501685&amp;w=2">http://marc.info/?l=linux-kernel&amp;m=132221799501685&amp;w=2</a><br /><br />This should be fixed by commit 4eabc941259f.<br /><br />I wonder if that's related to the floppy issue above? Nothing really<br />changed in the floppy driver itself, so it should be something about<br />the block layer..<br /><br />&gt; Subject    : 3.2-rc2 regression due to commit "USB: EHCI: fix HUB TT scheduling<br />&gt; issue with iso transfer" 811c926c538f7e8d3c08b630dd5844efd7e000f6<br />&gt; Submitter  : Sander Eikelenboom &lt;linux&#64;eikelenboom.it&gt;<br />&gt; Date       : 2011-11-26 15:47<br />&gt; Message-ID : 1001209018.20111126164712&#64;eikelenboom.it<br />&gt; References : <a href="https://marc.info/?l=linux-kernel&amp;m=132232295425393&amp;w=2">http://marc.info/?l=linux-kernel&amp;m=132232295425393&amp;w=2</a><br /><br />Fixed by commit e3420901eba6.<br /><br />&gt; Subject    : 3.2-rc3+: [drm:i915_hangcheck_elapsed] ERROR Hangcheck timer<br />&gt; elapsed... GPU hung<br />&gt; Submitter  : Sergei Trofimovich &lt;slyich&#64;gmail.com&gt;<br />&gt; Date       : 2011-12-02 17:56<br />&gt; Message-ID : 20111202205601.115522b1&#64;sf.home<br />&gt; References : <a href="https://marc.info/?l=linux-kernel&amp;m=132284845705156&amp;w=2">http://marc.info/?l=linux-kernel&amp;m=132284845705156&amp;w=2</a><br /><br />I think this is the same i915 issue above, fixed by the same commit<br />ed4a51842a9d.<br /><br />&gt; Subject    : [BUG] deadlock: jfs (3.2.0-rc4-00154-g8e8da02)<br />&gt; Submitter  : Nico Schottelius &lt;nico-linux-20111201&#64;schottelius.org&gt;<br />&gt; Date       : 2011-12-06 10:05<br />&gt; Message-ID : 20111206100533.GB6161&#64;schottelius.org<br />&gt; References : <a href="https://marc.info/?l=linux-kernel&amp;m=132317917827825&amp;w=2">http://marc.info/?l=linux-kernel&amp;m=132317917827825&amp;w=2</a><br /><br />That's an odd bug-report. I think Nico should try to cut-and-paste<br />more of the relevant problem..<br /><br />It's all there in the attached xz-file, but I doubt anybody followed<br />up on it because it's so hidden..<br /><br />Unpacked, and added Dave and jfs-discussion to the cc:<br /><br />    [ 6281.127353] =================================<br />    [ 6281.127355] [ INFO: inconsistent lock state ]<br />    [ 6281.127358] 3.2.0-rc4-00154-g8e8da02 #91<br />    [ 6281.127360] ---------------------------------<br />    [ 6281.127363] inconsistent {RECLAIM_FS-ON-W} -&gt; {IN-RECLAIM_FS-W} usage.<br />    [ 6281.127366] kswapd0/30 [HC0[0]:SC0[0]:HE1:SE1] takes:<br />    [ 6281.127368]  (&amp;jfs_ip-&gt;rdwrlock#2){++++?+}, at:<br />[&lt;ffffffffa01958d7&gt;] jfs_get_block+0x57/0x220 [jfs]<br />    [ 6281.127381] {RECLAIM_FS-ON-W} state was registered at:<br />    [ 6281.127383]   [&lt;ffffffff810a2c71&gt;] mark_held_locks+0x61/0x140<br />    [ 6281.127392]   [&lt;ffffffff810a3401&gt;] lockdep_trace_alloc+0x71/0xd0<br />    [ 6281.127399]   [&lt;ffffffff8115daed&gt;] kmem_cache_alloc+0x2d/0x170<br />    [ 6281.127406]   [&lt;ffffffff8124d7d6&gt;] radix_tree_preload+0x66/0xf0<br />    [ 6281.127414]   [&lt;ffffffff81110e93&gt;] add_to_page_cache_locked+0x73/0x170<br />    [ 6281.127422]   [&lt;ffffffff81110fb1&gt;] add_to_page_cache_lru+0x21/0x50<br />    [ 6281.127428]   [&lt;ffffffff8111112a&gt;] do_read_cache_page+0x6a/0x170<br />    [ 6281.127434]   [&lt;ffffffff8111127c&gt;] read_cache_page_async+0x1c/0x20<br />    [ 6281.127441]   [&lt;ffffffff8111128e&gt;] read_cache_page+0xe/0x20<br />    [ 6281.127446]   [&lt;ffffffffa01ae406&gt;] __get_metapage+0x1c6/0x5c0 [jfs]<br />    [ 6281.127455]   [&lt;ffffffffa01a018a&gt;] diWrite+0xea/0x7f0 [jfs]<br />    [ 6281.127461]   [&lt;ffffffffa01b3b04&gt;] txCommit+0x1d4/0xe40 [jfs]<br />    [ 6281.127468]   [&lt;ffffffffa01982e3&gt;] jfs_unlink+0x2a3/0x390 [jfs]<br />    [ 6281.127474]   [&lt;ffffffff8118255f&gt;] vfs_unlink+0x9f/0x110<br />    [ 6281.127479]   [&lt;ffffffff8118277a&gt;] do_unlinkat+0x1aa/0x1d0<br />    [ 6281.127482]   [&lt;ffffffff81184236&gt;] sys_unlink+0x16/0x20<br />    [ 6281.127486]   [&lt;ffffffff8143e202&gt;] system_call_fastpath+0x16/0x1b<br />    [ 6281.127491] irq event stamp: 26965295<br />    [ 6281.127493] hardirqs last  enabled at (26965295):<br />[&lt;ffffffff8111a3d5&gt;] clear_page_dirty_for_io+0x105/0x130<br />    [ 6281.127498] hardirqs last disabled at (26965294):<br />[&lt;ffffffff8111a378&gt;] clear_page_dirty_for_io+0xa8/0x130<br />    [ 6281.127503] softirqs last  enabled at (26964300):<br />[&lt;ffffffff8106cda7&gt;] __do_softirq+0x137/0x2a0<br />    [ 6281.127508] softirqs last disabled at (26964283):<br />[&lt;ffffffff814404fc&gt;] call_softirq+0x1c/0x30<br />    [ 6281.127513]<br />    [ 6281.127514] other info that might help us debug this:<br />    [ 6281.127516]  Possible unsafe locking scenario:<br />    [ 6281.127517]<br />    [ 6281.127518]        CPU0<br />    [ 6281.127519]        ----<br />    [ 6281.127521]   lock(&amp;jfs_ip-&gt;rdwrlock);<br />    [ 6281.127524]   &lt;Interrupt&gt;<br />    [ 6281.127525]     lock(&amp;jfs_ip-&gt;rdwrlock);<br />    [ 6281.127528]<br />    [ 6281.127529]  *** DEADLOCK ***<br />    [ 6281.127529]<br />    [ 6281.127531] no locks held by kswapd0/30.<br />    [ 6281.127533]<br />    [ 6281.127533] stack backtrace:<br />    [ 6281.127536] Pid: 30, comm: kswapd0 Tainted: G         C<br />3.2.0-rc4-00154-g8e8da02 #91<br />    [ 6281.127539] Call Trace:<br />    [ 6281.127545]  [&lt;ffffffff8143374c&gt;] print_usage_bug.part.34+0x285/0x294<br />    [ 6281.127552]  [&lt;ffffffff8102494f&gt;] ? save_stack_trace+0x2f/0x50<br />    [ 6281.127559]  [&lt;ffffffff8109ffe0&gt;] mark_lock+0x540/0x600<br />    [ 6281.127564]  [&lt;ffffffff8109ef60&gt;] ?<br />print_irq_inversion_bug.part.31+0x1f0/0x1f0<br />    [ 6281.127568]  [&lt;ffffffff810a0677&gt;] __lock_acquire+0x5d7/0x1d10<br />    [ 6281.127573]  [&lt;ffffffff81118394&gt;] ? free_pcppages_bulk+0x34/0x430<br />    [ 6281.127580]  [&lt;ffffffffa01958d7&gt;] ? jfs_get_block+0x57/0x220 [jfs]<br />    [ 6281.127584]  [&lt;ffffffff810a23a2&gt;] lock_acquire+0x92/0x160<br />    [ 6281.127590]  [&lt;ffffffffa01958d7&gt;] ? jfs_get_block+0x57/0x220 [jfs]<br />    [ 6281.127595]  [&lt;ffffffff811a5253&gt;] ? create_empty_buffers+0x53/0xe0<br />    [ 6281.127600]  [&lt;ffffffff8108e77f&gt;] down_write_nested+0x2f/0x60<br />    [ 6281.127606]  [&lt;ffffffffa01958d7&gt;] ? jfs_get_block+0x57/0x220 [jfs]<br />    [ 6281.127612]  [&lt;ffffffffa01958d7&gt;] jfs_get_block+0x57/0x220 [jfs]<br />    [ 6281.127616]  [&lt;ffffffff8143d24b&gt;] ? _raw_spin_unlock+0x2b/0x60<br />    [ 6281.127620]  [&lt;ffffffff811a65d1&gt;] __block_write_full_page+0x101/0x3a0<br />    [ 6281.127625]  [&lt;ffffffff811a5fe0&gt;] ? block_read_full_page+0x3d0/0x3d0<br />    [ 6281.127631]  [&lt;ffffffffa0195880&gt;] ? jfs_writepage+0x20/0x20 [jfs]<br />    [ 6281.127637]  [&lt;ffffffff811a6954&gt;] block_write_full_page_endio+0xe4/0x130<br />    [ 6281.127642]  [&lt;ffffffff811a69b5&gt;] block_write_full_page+0x15/0x20<br />    [ 6281.127651]  [&lt;ffffffffa0195878&gt;] jfs_writepage+0x18/0x20 [jfs]<br />    [ 6281.127657]  [&lt;ffffffff8112427c&gt;] shrink_page_list+0x56c/0x980<br />    [ 6281.127662]  [&lt;ffffffff8111e596&gt;] ? __pagevec_release+0x26/0x40<br />    [ 6281.127666]  [&lt;ffffffff81124ac2&gt;] shrink_inactive_list+0x152/0x4f0<br />    [ 6281.127670]  [&lt;ffffffff8112563c&gt;] shrink_zone+0x47c/0x5c0<br />    [ 6281.127673]  [&lt;ffffffff81122fef&gt;] ? shrink_slab+0x1ff/0x380<br />    [ 6281.127678]  [&lt;ffffffff8143945b&gt;] ? __schedule+0x35b/0xa30<br />    [ 6281.127682]  [&lt;ffffffff811269c5&gt;] balance_pgdat+0x4e5/0x6d0<br />    [ 6281.127685]  [&lt;ffffffff81126d28&gt;] kswapd+0x178/0x440<br />    [ 6281.127691]  [&lt;ffffffff81089840&gt;] ? __init_waitqueue_head+0x60/0x60<br />    [ 6281.127695]  [&lt;ffffffff81126bb0&gt;] ? balance_pgdat+0x6d0/0x6d0<br />    [ 6281.127699]  [&lt;ffffffff81088e97&gt;] kthread+0xa7/0xb0<br />    [ 6281.127703]  [&lt;ffffffff810a2efd&gt;] ? trace_hardirqs_on+0xd/0x10<br />    [ 6281.127707]  [&lt;ffffffff81440404&gt;] kernel_thread_helper+0x4/0x10<br />    [ 6281.127711]  [&lt;ffffffff8143d838&gt;] ? retint_restore_args+0x13/0x13<br />    [ 6281.127715]  [&lt;ffffffff81088df0&gt;] ? __init_kthread_worker+0x70/0x70<br />    [ 6281.127719]  [&lt;ffffffff81440400&gt;] ? gs_change+0x13/0x13<br /><br />Hmm?<br /><br />                        Linus<br />--<br />To unsubscribe from this list: send the line "unsubscribe linux-kernel" in<br />the body of a message to majordomo&#64;vger.kernel.org<br />More majordomo info at  <a href="http://vger.kernel.org/majordomo-info.html">http://vger.kernel.org/majordomo-info.html</a><br />Please read the FAQ at  <a href="http://www.tux.org/lkml/">http://www.tux.org/lkml/</a><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
