    </div></td><td width="32"> </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2011/7/23/156">First message in thread</a></li><li><a href="/lkml/2011/7/23/156">"Nicholas A. Bellinger"</a><ul><li><a href="/lkml/2011/7/23/158">Andrew Morton</a><ul><li><a href="/lkml/2011/7/23/161">"Nicholas A. Bellinger"</a><ul><li><a href="/lkml/2011/7/23/172">Stephen Rothwell</a></li></ul></li></ul></li><li><a href="/lkml/2011/7/25/460">Andrew Morton</a><ul><li class="origin"><a href="/lkml/2011/7/25/469">Linus Torvalds</a><ul><li><a href="/lkml/2011/7/25/469">Andrew Morton</a></li></ul></li><li><a href="/lkml/2011/7/25/467">Andrew Morton</a><ul><li><a href="/lkml/2011/7/26/45">"Nicholas A. Bellinger"</a><ul><li><a href="/lkml/2011/7/26/48">Linus Torvalds</a></li></ul></li></ul></li><li><a href="/lkml/2011/7/25/478">"Nicholas A. Bellinger"</a><ul><li><a href="/lkml/2011/7/25/489">Andy Grover</a></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Mon, 25 Jul 2011 16:46:03 -0700</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: [GIT PULL] iscsi-target merge for v3.1-rc1</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody">On Mon, Jul 25, 2011 at 4:37 PM, Andrew Morton<br />&lt;akpm&#64;linux-foundation.org&gt; wrote:<br />&gt; On Sat, 23 Jul 2011 16:16:15 -0700<br />&gt; "Nicholas A. Bellinger" &lt;nab&#64;linux-iscsi.org&gt; wrote:<br />&gt;<br />&gt;&gt; Please go ahead and pull from:<br />&gt;&gt;<br />&gt;&gt;   master.kernel.org:/pub/scm/linux/kernel/git/nab/target-pending.git for-linus-merge<br />&gt;<br />&gt; i386 allyesconfig:<br />&gt;<br />&gt; ERROR: "__udivdi3" [drivers/target/target_core_mod.ko] undefined!<br />&gt;<br />&gt; somewhere in drivers/target/target_core_transport.c:transport_allocate_data_tasks().<br /><br />.. looks like somebody isn't doing a "sector_div()" for a sector_t.<br /><br />Nicholas: full 64-bit divides are dog slow on most 32-bit targets, and<br />gcc is very iffy at doing a 64/32-&gt;32 divide (or even a 64/32-&gt;64 one,<br />which is still much faster than the full 64/64-&gt;64 one). So we very<br />much on purpose don't allow for __udivdi3 (which is gcc-speak for that<br />out-of-line "64/64-&gt;64" operation), so it generates link-time errors.<br /><br />Note the odd semantics for sector_div():<br /><br />  sector_div(a,b)<br /><br />basically does a "a = a/b" (and then returns the remainder, but nobody<br />uses it and maybe we should skip that part).<br /><br />                   Linus<br />--<br />To unsubscribe from this list: send the line "unsubscribe linux-kernel" in<br />the body of a message to majordomo&#64;vger.kernel.org<br />More majordomo info at  <a href="http://vger.kernel.org/majordomo-info.html">http://vger.kernel.org/majordomo-info.html</a><br />Please read the FAQ at  <a href="http://www.tux.org/lkml/">http://www.tux.org/lkml/</a><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
