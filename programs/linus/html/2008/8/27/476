    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2008/8/23/105">First message in thread</a></li><li><a href="/lkml/2008/8/27/444">Peter Osterlund</a><ul><li><a href="/lkml/2008/8/27/425">Linus Torvalds</a></li><li><a href="/lkml/2008/8/27/429">Linus Torvalds</a></li><li><a href="/lkml/2008/8/27/472">Alan Cox</a><ul><li class="origin"><a href="/lkml/2008/8/27/478">Linus Torvalds</a><ul><li><a href="/lkml/2008/8/27/478">David Miller</a></li><li><a href="/lkml/2008/8/27/480">Alexey Dobriyan</a></li><li><a href="/lkml/2008/8/27/481">Alan Cox</a><ul><li><a href="/lkml/2008/8/27/482">Linus Torvalds</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2008/8/28/128">Christoph Hellwig</a><ul><li><a href="/lkml/2008/9/2/29">Jens Axboe</a><ul><li><a href="/lkml/2008/9/2/304">Al Viro</a><ul><li><a href="/lkml/2008/9/4/141">Jens Axboe</a></li></ul></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Wed, 27 Aug 2008 15:38:16 -0700 (PDT)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: 2.6.27-rc4-git1: Reported regressions from 2.6.26</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br /><br />On Wed, 27 Aug 2008, Alan Cox wrote:<br />&gt; <br />&gt; Easier just to fix it. Its a case of building everything until it<br />&gt; compiles with the prototype change. Almost all stuff  will just take the<br />&gt; argument initially and not use it.<br />&gt; <br />&gt; Anyone else plan to do it or shall I hit all the x86 cases and post a<br />&gt; patch ?<br /><br />Well, I alrady reverted it, but if you actually fix unlocked_ioctl() to <br />have the same calling convention as regular ioctl() then a lot of the <br />noise from ioctl conversion goes away, and all that remains is literally <br />just the BKL part.<br /><br />Btw, why is unlocked_ioctl returning "long"? Does anybody depend on that <br />too? That's another difference between the "unlocked" and the traditional <br />version..<br /><br />As to the "x86 cases", I think you should try to hit them all. Doing a <br />"git grep unlocked_ioctl" gets 185 entries, and it looks like only <br />something like 8 of them are non-x86 (3 in the arch/ directory, five in <br />s390 drivers).<br /><br />Of course, some of them may be drivers that aren't available on x86 for <br />other reasons (ie the ARM embedded stuff), but regardless..<br /><br />Anyway, the pure size of that patch makes me suspect that we might as well <br />leave it until the next merge window, but if you do it and it's obviously <br />totally mechanical, I'd be likely to just let it slip in early.<br /><br />		Linus<br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
