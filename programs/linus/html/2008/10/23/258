    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2008/10/16/511">First message in thread</a></li><li><a href="/lkml/2008/10/20/395">"H. Peter Anvin"</a><ul><li><a href="/lkml/2008/10/21/255">Bjorn Helgaas</a><ul><li class="origin"><a href="/lkml/2008/10/23/297">Linus Torvalds</a><ul><li><a href="/lkml/2008/10/23/297">"H. Peter Anvin"</a></li><li><a href="/lkml/2008/10/23/408">Paul Mackerras</a></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js"></script><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Thu, 23 Oct 2008 08:47:58 -0700 (PDT)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: [RFC patch 15/15] LTTng timestamp x86</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br /><br />On Tue, 21 Oct 2008, Bjorn Helgaas wrote:<br /><br />&gt; On Monday 20 October 2008 04:29:07 pm H. Peter Anvin wrote:<br />&gt; &gt; Linus Torvalds wrote:<br />&gt; &gt; &gt; <br />&gt; &gt; &gt; But it's not going to solve the "hey, I have 512 CPU's, they are all on <br />&gt; &gt; &gt; different boards, and no, they are _not_ synchronized to one global <br />&gt; &gt; &gt; clock!".<br />&gt; &gt; &gt; <br />&gt; &gt; &gt; That's why I'd suggest making _purely_ local time, and then aiming for <br />&gt; &gt; &gt; something NTP-like. But maybe there are better solutions out there.<br />&gt; &gt; <br />&gt; &gt; At the same time, it would definitely be nice to encourage vendors of <br />&gt; &gt; large SMP systems to provide a common root crystal (frequency standard) <br />&gt; &gt; for a single SMP domain.  Preferrably a really good one, TCXO or better.<br />&gt; <br />&gt; A single root crystal is nice for us software guys.  But it often<br />&gt; also turns into a single point of failure, which the hardware guys<br />&gt; are always trying to eliminate.  So I think multiple crystals are<br />&gt; inevitable for the really large machines.<br /><br />They are almost inevitable for another reason too: the interconnect seldom <br />has a concept of "clock signal" other than for the signalling itself, and <br />the signal clock is designed for the signal itself and is designed for <br />signal integrity rather than "stable clock".<br /><br />Does _any_ common interconnect have integral support for clock <br />distribution?<br /><br />And no, nobody is going to add another clock network for just clock <br />distribution. <br /><br />So even ignoring redundancy issues, and the fact that people want to <br />hot-plug things (and yes, that would make a central clock interesting), I <br />doubt any hw manufacturer really looks at it the way we do.<br /><br />The best we could hope for is some hardware assist for helping distribute <br />a common clock. Ie not a real single crystal, but having time-packets in <br />the interconnect that are used to synchronize nodes whenever there is <br />communication between them. It's hard to do that in software, because the <br />overhead is fairly high, but if hardware does at least some of it you <br />could probably get a damn fine distributed clock source.<br /><br />But I don't know if any hw people are worried enough about it to do it...<br /><br />		Linus<br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
