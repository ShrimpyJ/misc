    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2008/10/30/24">First message in thread</a></li><li><a href="/lkml/2008/10/30/24">Greg KH</a><ul><li><a href="/lkml/2008/10/30/293">Stefan Richter</a></li><li class="origin"><a href="/lkml/2008/10/30/476">Linus Torvalds</a><ul><li><a href="/lkml/2008/10/30/476">Dave Kleikamp</a><ul><li><a href="/lkml/2008/10/30/517">Linus Torvalds</a></li></ul></li><li><a href="/lkml/2008/10/30/482">Greg KH</a><ul><li><a href="/lkml/2008/10/30/523">Linus Torvalds</a><ul><li><a href="/lkml/2008/10/30/600">Greg KH</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2008/10/30/565">"J.R. Mauro"</a><ul><li><a href="/lkml/2008/10/30/568">Linus Torvalds</a><ul><li><a href="/lkml/2008/10/30/583">"J.R. Mauro"</a><ul><li><a href="/lkml/2008/10/30/604">Theodore Tso</a></li><li><a href="/lkml/2008/10/31/4">"Kyle Moffett"</a></li></ul></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Thu, 30 Oct 2008 12:04:34 -0700 (PDT)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: merging other repos into linux-2.6</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br /><br />On Wed, 29 Oct 2008, Greg KH wrote:<br />&gt; <br />&gt; In working with some of the current out-of-tree drivers, some of them<br />&gt; are asking if they could keep their past development history when<br />&gt; merging the code into the main kernel tree.<br />&gt; <br />&gt; Now normally we don't do this for new drivers, just dropping them in in<br />&gt; one big patch, or sometimes multiple patches to get it through email<br />&gt; filters.<br /><br />I'd suggest you talk to Chris Mason about his btrfs import.<br /><br />I'd _like_ for old history to be merged, but quite frankly, bisectability <br />is a fairly big deal, and while we often have cases where a _few_ commits <br />don't build and make bisecting hard, if you import the past development <br />history badly, you can easily end up with _hundreds_ of commits that <br />simply don't build as a kernel at all.<br /><br />And at some point the "nice to have" history is suddenly "more pain than <br />it is worth".<br /><br />&gt; The comedi group (data acquisition subsystem for Linux) have their whole<br />&gt; history going back to 2000 in a git tree (well, a cvs-&gt;git repo.)<br />&gt; <br />&gt; I was wondering if it would be acceptable to graft their tree into the<br />&gt; linux-2.6 tree (after moving the files to the proper location) to keep<br />&gt; their whole old history alive.<br /><br />If you mean "graft" in the git technical sense, where you actually use a <br />grafts file to fake ancestry, then the answer is "Hell no".<br /><br />If you mean "graft" in the sense of merging a unrelated tree, the same way <br />git itself merged the gitk tree, then the answer is "yes, we can do that, <br />but bisectability is really important".<br /><br />And quite frankly, if you don't spend time looking at it and doing it <br />well, it's probably not worth doing at all. Are you ready to really try to <br />do a good job?<br /><br />That's why I'd suggest you talk to Chris - because he did an import from <br />an external mercurial repo that wasn't even a full kernel, and with some <br />help from me got a really good history in his git tree by using a number <br />of tricks, notably using "git filter-branch" to create a new tree with the <br />whole history as part of a whole tree, and nicely bisectable too.<br /><br />(See the result at<br /><br />	<a href="https://git.kernel.org/?p=linux/kernel/git/mason/btrfs-unstable.git;a=summary">http://git.kernel.org/?p=linux/kernel/git/mason/btrfs-unstable.git;a=summary</a><br /><br />if you want to).<br /><br />Anyway, I'll happily help with any cleanup and/or git questions, but Chris <br />can talk about the issues he had - he did all the actual work.<br /><br />In contrast, if what you just want to do is to take some nasty straight <br />CVS import, and just do a git merge, and not try to make it bisect sanely, <br />at that point I'd say that the history is absolutely _not_ worth it.<br /><br />			Linus<br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
