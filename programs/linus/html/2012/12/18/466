    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2012/12/18/434">First message in thread</a></li><li><a href="/lkml/2012/12/18/434">Wolfram Sang</a><ul><li class="origin"><a href="/lkml/2012/12/19/292">Linus Torvalds</a><ul><li><a href="/lkml/2012/12/19/292">Tony Lindgren</a></li><li><a href="/lkml/2012/12/20/273">Paul Walmsley</a></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Tue, 18 Dec 2012 17:04:03 -0800</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: [PULL REQUEST] i2c-embedded for 3.8</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody">Ugh, guys. Please check this out.<br /><br />On Tue, Dec 18, 2012 at 3:41 PM, Wolfram Sang &lt;w.sang&#64;pengutronix.de&gt; wrote:<br />&gt;<br />&gt; please pull the i2c-embedded changes for 3.8 which include:<br />&gt;<br />&gt; * CBUS driver (an I2C variant)<br />&gt; * continued rework of the omap driver<br />&gt; * s3c2410 gets lots of fixes and gains pinctrl support<br />&gt; * at91 gains DMA support<br />&gt; * the GPIO muxer gains devicetree probing<br />&gt; * typical fixes and additions all over<br />&gt;<br />&gt; All patches have been in linux-next before. Please pull.<br /><br />I get a conflict because both sides have this:<br /><br />   Revert "ARM: OMAP: convert I2C driver to PM QoS for MPU latency constraints"<br /><br />which re-introduced the omap-specific -&gt;set_mpu_wkup_lat() thing.<br /><br />But in mainline the only *user* of that has gone away. And the call<br />location where it originally existed has moved.<br /><br />It originally existed in<br /><br />  arch/arm/plat-omap/i2c.c<br /><br />but looking at the history, the omap i2c code first got split into<br />omap1 and omap2, and at that point the call-site got moved to<br /><br />  arch/arm/mach-omap2/i2c.c<br /><br />but then the code that the revert re-introduced got lost.<br /><br />Now, in the merge I just did, I *reinstated* that<br />-&gt;set_mpu_wkup_lat() code that had gotten lost in mainline. But quite<br />frankly, the thing is ugly as heck, and I hope it could just be<br />deleted. Clearly nobody had noticed yet that it got lost in some merge<br />(possibly an earlier one of mine, but considering that I usually<br />notice things like this, I suspect it's one of the internal ARM ones).<br /><br />I'm adding Arnd, Tony and Olof to the participants list, since they<br />are the main suspects.<br /><br />And guys, if you decide to remove the  -&gt;set_mpu_wkup_lat() from<br />arch/arm/mach-omap2/i2c.c again, please make sure that you remove the<br />whole infrastructure too:<br /><br />  include/linux/i2c-omap.h<br />  drivers/i2c/busses/i2c-omap.c<br /><br />Hmm? Somebody *really* needs to double-check my merge, it's possibly<br />quite broken, since I have in no way tested it, and I did this by<br />looking at some *very* messy history with code being moved across<br />different files etc etc.<br /><br />               Linus<br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
