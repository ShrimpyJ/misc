    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2018/10/28/211">First message in thread</a></li><li><a href="/lkml/2018/10/30/81">Linus Torvalds</a><ul><li><a href="/lkml/2018/10/30/102">Harry Cutts</a><ul><li class="origin"><a href="/lkml/2018/10/30/144">Linus Torvalds</a><ul><li><a href="/lkml/2018/10/30/144">Harry Cutts</a><ul><li><a href="/lkml/2018/10/30/263">Peter Hutterer</a></li></ul></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js"></script><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Mon, 29 Oct 2018 15:00:40 -0700</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: Logitech high-resolution scrolling..</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody">On Mon, Oct 29, 2018 at 2:42 PM Harry Cutts &lt;hcutts&#64;chromium.org&gt; wrote:<br />&gt;<br />&gt; Ah, I see what you mean. So, if we move the threshold to (multiplier -<br />&gt; 1)/multiplier (7/8) in this case, I think the equivalent scenario<br />&gt; would be:<br /><br />That would work, yes.<br /><br />Except I think you *do* want the "reset on direction change" logic,<br />because otherwise we still end up having the:<br /><br />&gt; - we update remainder to -1<br /><br />where it now gets easier to next time go the wrong way, for no good<br />reason.  So now you only need another 6/8ths the other way to get to<br />within 7/8ths of -8 and scroll back.<br /><br />In other words, the whole "round partial scrolling" also causes that<br />whole "now the other direction is closer" issue.<br /><br />At 7/8's it is less obviously a problem than it was at 1/2, but I<br />still think it's a sign of an unstable algorithm, where changes get<br />triggered too easily in the non-highres world.<br /><br />Also, honestly, I'm not sure I see the point. *IF* you actually scroll<br />more in one direction, it doesn't matter one whit whether you pick<br />1/2, 7/8, or whole multipliers: the *next* step is still always going<br />to be one whole multiplier away.<br /><br />So I think the whole rounding is actually misguided. I think it may<br />come from the very fact that you did *not* reset the remainder on<br />direction changes, so you could scroll in one direction to -3, and<br />then you change direction and go a "whole" tick the other way, but now<br />it's just at +5, so you think you need to round up.<br /><br />With the whole "reset when changing direction", I don't think the<br />rounding is necessary, and I don't think it makes sense.<br /><br />But I'm willing to test patches. I would suggest looking at the "oops,<br />direction changed" issue, though, because it really was very annoying.<br /><br />&gt; I tested these changes with 5 different Logitech mice (see the<br />&gt; Logitech high-res support patch [0] for details), and did so mainly<br />&gt; with applications that were *not* high-res aware, using a mix of<br />&gt; clicky and smooth modes. Admittedly the MX Anywhere 2S was not one of<br />&gt; my test devices; I had assumed that its behaviour would be<br />&gt; sufficiently similar to that of the MX Anywhere 2 and the MX Master<br />&gt; 2S.<br /><br />I happen to have a MX Master 2S too, but I don't use it because I find<br />I like the smaller and lightweight "anywhere" mice.<br /><br />I didn't try the broken case with it, but one thing I notice with the<br />Master 2S is that it seems to have a "heftier" feel to its wheel. It<br />may simply have more mass and not be as flighty, and thus show the<br />issue less.<br /><br />But that's just a theory. It could just be something that is<br />individual to some mice.<br /><br />                       Linus<br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
