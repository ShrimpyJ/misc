    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2001/10/30/241">First message in thread</a></li><li><a href="/lkml/2001/10/30/241">Dave Airlie</a><ul><li class="origin"><a href="/lkml/2001/10/31/32">Linus Torvalds</a><ul><li><a href="/lkml/2001/10/31/32">Dave Airlie</a></li><li><a href="/lkml/2001/10/30/293">Alexander Viro</a><ul><li><a href="/lkml/2001/10/30/191">Linus Torvalds</a></li><li><a href="/lkml/2001/11/5/160">Pavel Machek</a></li></ul></li><li><a href="/lkml/2001/10/30/318">"Udo A. Steinberg"</a><ul><li><a href="/lkml/2001/10/30/253">Linus Torvalds</a></li><li><a href="/lkml/2001/10/30/255">Andrea Arcangeli</a><ul><li><a href="/lkml/2001/10/30/279">Linus Torvalds</a></li></ul></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Tue, 30 Oct 2001 16:54:14 -0800</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: oops on 2.4.13-pre5 in prune_dcache</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody">In article &lt;Pine.LNX.4.32.0110302132020.14320-100000&#64;skynet&gt; you write:<br />&gt;Unable to handle kernel NULL pointer dereference at virtual address 00000054<br />&gt;c013e227<br />&gt;*pde = 00000000<br />&gt;Oops: 0000<br />&gt;CPU:    0<br />&gt;EIP:    0010:[&lt;c013e227&gt;]    Not tainted<br />&gt;Using defaults from ksymoops -t elf32-i386 -a i386<br />&gt;EFLAGS: 00010202<br />&gt;eax: 00000040   ebx: c23ded38   ecx: c23da670   edx: c23da670<br />&gt;esi: c23ded20   edi: c23da660   ebp: 0000013b   esp: c1173f5c<br />&gt;ds: 0018   es: 0018   ss: 0018<br />&gt;Process kswapd (pid: 4, stackpage=c1173000)<br />&gt;Stack: 00000019 000003d0 00000006 00000380 c013e4fb 00000662 c0128857 00000006<br />&gt;       000003d0 00000006 00000020 00000000 000003d0 00002a06 c012888d c01dc55c<br />&gt;       00000001 c01dc548 c1172000 c012894d c01dc4a0 00000000 c1173fe0 0008e000<br />&gt;Call Trace: [&lt;c013e4fb&gt;] [&lt;c0128857&gt;] [&lt;c012888d&gt;] [&lt;c012894d&gt;] [&lt;c01289be&gt;]<br />&gt;   [&lt;c0128ae7&gt;] [&lt;c0105000&gt;] [&lt;c01054bb&gt;]<br />&gt;Code: 8b 40 14 85 c0 74 09 57 56 ff d0 83 c4 08 eb 09 57 e8 43 1e<br />&gt;<br />&gt;&gt;&gt;EIP; c013e227 &lt;prune_dcache+ab/12c&gt;   &lt;=====<br />&gt;Trace; c013e4fb &lt;shrink_dcache_memory+1b/34&gt;<br />&gt;Trace; c0128857 &lt;shrink_caches+6f/88&gt;<br />&gt;Trace; c012888d &lt;try_to_free_pages+1d/4c&gt;<br />&gt;Trace; c012894d &lt;kswapd_balance_pgdat+55/b0&gt;<br />&gt;Trace; c01289be &lt;kswapd_balance+16/3c&gt;<br />&gt;Trace; c0128ae7 &lt;kswapd+a3/cc&gt;<br />&gt;Trace; c0105000 &lt;_stext+0/0&gt;<br />&gt;Trace; c01054bb &lt;kernel_thread+23/30&gt;<br />&gt;Code;  c013e227 &lt;prune_dcache+ab/12c&gt;<br />&gt;   0:   8b 40 14                  mov    0x14(%eax),%eax   &lt;=====<br />&gt;   3:   85 c0                     test   %eax,%eax<br />&gt;   5:   74 09                     je     10 &lt;_EIP+0x10&gt; c013e237 &lt;prune_dcache+bb/12c&gt;<br /><br />This is<br /><br />	dentry-&gt;d_op-&gt;d_iput<br /><br />with dentry-&gt;d_op (%eax) having the bogus value 0x00000040.<br /><br />It's almost certainly _supposed_ to be a NULL pointer, but has bit 6<br />set. <br /><br />So we do<br /><br />	if (dentry-&gt;d_op &amp;&amp; dentry-&gt;d_op-&gt;d_iput)<br /><br />and because dentry-&gt;d_op isn't NULL, we oops on the d_op-&gt;d_iput<br />dereference.<br /><br />Something is setting a bit in your dentry. Either RAM errors (do you<br />have ECC memory or a history of SIGSEGV's to give any indication either<br />way?) or a wild "set_bit()" pointer or similar.<br /><br />			Linus<br />-<br />To unsubscribe from this list: send the line "unsubscribe linux-kernel" in<br />the body of a message to majordomo&#64;vger.kernel.org<br />More majordomo info at  <a href="http://vger.kernel.org/majordomo-info.html">http://vger.kernel.org/majordomo-info.html</a><br />Please read the FAQ at  <a href="http://www.tux.org/lkml/">http://www.tux.org/lkml/</a><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
