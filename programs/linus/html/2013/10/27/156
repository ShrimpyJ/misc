    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2013/10/14/431">First message in thread</a></li><li><a href="/lkml/2013/10/25/96">Thomas Gleixner</a><ul><li><a href="/lkml/2013/10/25/114">Linus Torvalds</a><ul><li><a href="/lkml/2013/10/26/47">Ingo Molnar</a><ul><li><a href="/lkml/2013/10/28/344">Knut Petersen</a><ul><li><a href="/lkml/2013/10/28/369">Ingo Molnar</a></li></ul></li></ul></li><li class="origin"><a href="/lkml/2013/10/27/161">Linus Torvalds</a><ul><li><a href="/lkml/2013/10/27/161">Linus Torvalds</a><ul><li><a href="/lkml/2013/10/27/164">Linus Torvalds</a></li><li><a href="/lkml/2013/10/30/385">Pablo Neira Ayuso</a></li></ul></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Sun, 27 Oct 2013 20:20:47 +0000</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: [BUG 3.12.rc4] Oops: unable to handle kernel paging request during shutdown</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody">On Fri, Oct 25, 2013 at 11:48 AM, Linus Torvalds<br />&lt;torvalds&#64;linux-foundation.org&gt; wrote:<br />&gt;<br />&gt; Yes, but nobody has actually been able to trigger it with those. It's<br />&gt; pretty rare, and the debug options are so expensive that they aren't<br />&gt; reasonable to enable generally...<br />&gt;<br />&gt; So we need to try to figure out how to trigger it, or narrow things<br />&gt; down some way..<br /><br />Ok, still trying to figure this out, and I do have another bug as a<br />result. I don't think this one is really the fundamental one either<br />that caused my crash during "yum upgrade", nor necessarily Knut's<br />problem during shutdown, but I'll keep looking.<br /><br />And who knows.. Maybe this *does* explain Knut's issue.<br /><br />Appended is a warning I get with DEBUG_TIMER_OBJECTS. Seems to be a<br />device-mapper issue. Alasdair, Neil, comments? It looks like<br />dm_destroy() is freeing an delayed_work entry that is still active...<br /><br />I don't know exactly which field in the 'struct mapped_device' has<br />that delayed-work thing, but I assume it's the kobject.. Somebody who<br />knows this code better, please take a look!<br /><br />                   Linus<br /><br />---<br />[    8.258139] ------------[ cut here ]------------<br />[    8.258145] WARNING: CPU: 1 PID: 257 at lib/debugobjects.c:260<br />debug_print_object+0x83/0xa0()<br />[    8.258150] ODEBUG: free active (active state 0) object type:<br />timer_list hint: delayed_work_timer_fn+0x0/0x20<br />[    8.258153] Modules linked in: dm_crypt crc32_pclmul crc32c_intel<br />i915 i2c_algo_bit drm_kms_helper ghash_clmulni_intel drm i2c_core<br />video<br />[    8.258164] CPU: 1 PID: 257 Comm: systemd-cryptse Not tainted<br />3.12.0-rc6-00331-ga2ff82065b5b #2<br />[    8.258166] Hardware name: Sony Corporation SVP11213CXB/VAIO, BIOS<br />R0270V7 05/17/2013<br />[    8.258168]  0000000000000009 ffff8800d65f3b28 ffffffff8160d4a2<br />ffff8800d65f3b70<br />[    8.258172]  ffff8800d65f3b60 ffffffff810514e8 ffff8800372cb078<br />ffffffff81c365e0<br />[    8.258176]  ffffffff819f9133 ffffffff81f3d3f0 0000000000000003<br />ffff8800d65f3bc0<br />[    8.258180] Call Trace:<br />[    8.258186]  [&lt;ffffffff8160d4a2&gt;] dump_stack+0x45/0x56<br />[    8.258191]  [&lt;ffffffff810514e8&gt;] warn_slowpath_common+0x78/0xa0<br />[    8.258195]  [&lt;ffffffff81051557&gt;] warn_slowpath_fmt+0x47/0x50<br />[    8.258198]  [&lt;ffffffff812f8883&gt;] debug_print_object+0x83/0xa0<br />[    8.258202]  [&lt;ffffffff8106aa90&gt;] ? execute_in_process_context+0x90/0x90<br />[    8.258205]  [&lt;ffffffff812f99fb&gt;] debug_check_no_obj_freed+0x20b/0x250<br />[    8.258210]  [&lt;ffffffff814b564c&gt;] ? __dm_destroy+0x1ec/0x250<br />[    8.258214]  [&lt;ffffffff8115db59&gt;] kfree+0x89/0x160<br />[    8.258217]  [&lt;ffffffff814b564c&gt;] __dm_destroy+0x1ec/0x250<br />[    8.258221]  [&lt;ffffffff814b626e&gt;] dm_destroy+0xe/0x10<br />[    8.258224]  [&lt;ffffffff814bba6a&gt;] dev_remove+0x9a/0x130<br />[    8.258226]  [&lt;ffffffff814bb9d0&gt;] ? __hash_remove+0xd0/0xd0<br />[    8.258229]  [&lt;ffffffff814bbed0&gt;] ctl_ioctl+0x250/0x500<br />[    8.258234]  [&lt;ffffffff81184201&gt;] ? do_last+0x511/0x1220<br />[    8.258238]  [&lt;ffffffff814bc18e&gt;] dm_ctl_ioctl+0xe/0x20<br />[    8.258242]  [&lt;ffffffff811879ad&gt;] do_vfs_ioctl+0x2cd/0x4a0<br />[    8.258246]  [&lt;ffffffff81177419&gt;] ? ____fput+0x9/0x10<br />[    8.258249]  [&lt;ffffffff81187c01&gt;] SyS_ioctl+0x81/0xa0<br />[    8.258254]  [&lt;ffffffff8161b9a2&gt;] system_call_fastpath+0x16/0x1b<br />[    8.258256] ---[ end trace 25f53c192da70824 ]---<br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
