    </div></td><td width="32"> </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2019/9/15/241">First message in thread</a></li><li class="origin"><a href="/lkml/2019/9/16/15">Linus Torvalds</a><ul><li><a href="/lkml/2019/9/16/15">Bhaskar Chowdhury</a></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Sun, 15 Sep 2019 15:00:06 -0700</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Linux 5.3</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody">So we've had a fairly quiet last week, but I think it was good that we<br />ended up having that extra week and the final rc8.<br /><br />Even if the reason for that extra week was my travel schedule rather<br />than any pending issues, we ended up having a few good fixes come in,<br />including some for some bad btrfs behavior. Yeah, there's some<br />unnecessary noise in there too (like the speling fixes), but we also<br />had several last-minute reverts for things that caused issues.<br /><br />One _particularly_ last-minute revert is the top-most commit (ignoring<br />the version change itself) done just before the release, and while<br />it's very annoying, it's perhaps also instructive.<br /><br />What's instructive about it is that I reverted a commit that wasn't<br />actually buggy. In fact, it was doing exactly what it set out to do,<br />and did it very well. In fact it did it _so_ well that the much<br />improved IO patterns it caused then ended up revealing a user-visible<br />regression due to a real bug in a completely unrelated area.<br /><br />The actual details of that regression are not the reason I point that<br />revert out as instructive, though. It's more that it's an instructive<br />example of what counts as a regression, and what the whole "no<br />regressions" kernel rule means. The reverted commit didn't change any<br />API's, and it didn't introduce any new bugs. But it ended up exposing<br />another problem, and as such caused a kernel upgrade to fail for a<br />user. So it got reverted.<br /><br />The point here being that we revert based on user-reported _behavior_,<br />not based on some "it changes the ABI" or "it caused a bug" concept.<br />The problem was really pre-existing, and it just didn't happen to<br />trigger before. The better IO patterns introduced by the change just<br />happened to expose an old bug, and people had grown to depend on the<br />previously benign behavior of that old issue.<br /><br />And never fear, we'll re-introduce the fix that improved on the IO<br />patterns once we've decided just how to handle the fact that we had a<br />bad interaction with an interface that people had then just happened<br />to rely on incidental behavior for before. It's just that we'll have<br />to hash through how to do that (there are no less than three different<br />patches by three different developers being discussed, and there might<br />be more coming...). In the meantime, I reverted the thing that exposed<br />the problem to users for this release, even if I hope it will be<br />re-introduced (perhaps even backported as a stable patch) once we have<br />consensus about the issue it exposed.<br /><br />Take-away from the whole thing: it's not about whether you change the<br />kernel-userspace ABI, or fix a bug, or about whether the old code<br />"should never have worked in the first place". It's about whether<br />something breaks existing users' workflow.<br /><br />Anyway, that was my little aside on the whole regression thing.  Since<br />it's that "first rule of kernel programming", I felt it is perhaps<br />worth just bringing it up every once in a while.<br /><br />Other than that aside, I don't find a lot to really talk about last<br />week. Drivers, networking (and network drivers), arch updates,<br />selftests. And a few random fixes in various other corners. The<br />appended shortlog is not overly long, and gives a flavor for the<br />changes.<br /><br />And this obviously means that the merge window for 5.4 is open, and<br />I'll start doing pull requests for that tomorrow. I already have a<br />number of them in my inbox, and I appreciate all the people who got<br />that over and done with early,<br /><br />                Linus<br /><br />---<br /><br />Alexander Duyck (1):<br />      ixgbe: Prevent u8 wrapping of ITR value to something less than 10us<br /><br />Alexei Starovoitov (1):<br />      bpf: fix precision tracking of stack slots<br /><br />Andreas Kemnade (1):<br />      regulator: twl: voltage lists for vdd1/2 on twl4030<br /><br />Andrew Jeffery (1):<br />      pinctrl: aspeed: Fix spurious mux failures on the AST2500<br /><br />Arnd Bergmann (2):<br />      ipc: fix semtimedop for generic 32-bit architectures<br />      ipc: fix sparc64 ipc() wrapper<br /><br />Bjørn Mork (1):<br />      cdc_ether: fix rndis support for Mediatek based smartphones<br /><br />Chris Wilson (2):<br />      drm/i915: Restore relaxed padding (OCL_OOB_SUPPRES_ENABLE) for skl+<br />      Revert "drm/i915/userptr: Acquire the page lock around set_page_dirty()"<br /><br />Christophe JAILLET (3):<br />      net/hamradio/6pack: Fix the size of a sk_buff used in 'sp_bump()'<br />      ipv6: Fix the link time qualifier of 'ping_v6_proc_exit_net()'<br />      sctp: Fix the link time qualifier of 'sctp_ctrlsock_exit()'<br /><br />Colin Ian King (4):<br />      NFC: st95hf: fix spelling mistake "receieve" -&gt; "receive"<br />      net: lmc: fix spelling mistake "runnin" -&gt; "running"<br />      net: hns3: fix spelling mistake "undeflow" -&gt; "underflow"<br />      mlx4: fix spelling mistake "veify" -&gt; "verify"<br /><br />Cong Wang (2):<br />      net_sched: check cops-&gt;tcf_block in tc_bind_tclass()<br />      sch_hhf: ensure quantum and hhf_non_hh_weight are non-zero<br /><br />Dan Carpenter (1):<br />      regulator: slg51000: Fix a couple NULL vs IS_ERR() checks<br /><br />Daniel Drake (1):<br />      Revert "mmc: sdhci: Remove unneeded quirk2 flag of O2 SD host controller"<br /><br />David Ahern (2):<br />      ipv6: Fix RTA_MULTIPATH with nexthop objects<br />      selftest: A few cleanups for fib_nexthops.sh<br /><br />David Howells (1):<br />      rxrpc: Fix misplaced traceline<br /><br />Dmitry Torokhov (1):<br />      gpiolib: of: fix fallback quirks handling<br /><br />Donald Sharp (1):<br />      net: Properly update v4 routes with v6 nexthop<br /><br />Eric Biggers (1):<br />      isdn/capi: check message length in capi_write()<br /><br />Eric Dumazet (1):<br />      net: sched: fix reordering issues<br /><br />Eugene Syromiatnikov (1):<br />      fork: block invalid exit signals with clone3()<br /><br />Fernando Fernandez Mancera (1):<br />      netfilter: nft_socket: fix erroneous socket assignment<br /><br />Filipe Manana (2):<br />      Btrfs: fix assertion failure during fsync and use of stale transaction<br />      Btrfs: fix unwritten extent buffers and hangs on future writeback attempts<br /><br />Florian Westphal (1):<br />      xfrm: policy: avoid warning splat when merging nodes<br /><br />Fred Lotter (1):<br />      nfp: flower: cmsg rtnl locks can timeout reify messages<br /><br />Fuqian Huang (1):<br />      KVM: x86: work around leak of uninitialized stack contents<br /><br />Hans de Goede (1):<br />      gpiolib: acpi: Add gpiolib_acpi_run_edge_events_on_boot option<br />and blacklist<br /><br />Harish Bandi (1):<br />      Bluetooth: hci_qca: disable irqs when spinlock is acquired<br /><br />Hui Peng (1):<br />      rsi: fix a double free bug in rsi_91x_deinit()<br /><br />Igor Mammedov (1):<br />      KVM: s390: kvm_s390_vm_start_migration: check dirty_bitmap<br />before using it as target for memset()<br /><br />Ilya Maximets (1):<br />      ixgbe: fix double clean of Tx descriptors with xdp<br /><br />Jan Stancek (1):<br />      x86/timer: Force PIT initialization when !X86_FEATURE_ARAT<br /><br />Jeff Kirsher (1):<br />      ixgbevf: Fix secpath usage for IPsec Tx offload<br /><br />Jian-Hong Pan (1):<br />      Bluetooth: btrtl: Additional Realtek 8822CE Bluetooth devices<br /><br />John Fastabend (1):<br />      net: sock_map, fix missing ulp check in sock hash case<br /><br />Jouni Malinen (1):<br />      mac80211: Do not send Layer 2 Update frame before authorization<br /><br />Juliet Kim (1):<br />      net/ibmvnic: free reset work of removed device from queue<br /><br />Ka-Cheong Poon (1):<br />      net/rds: An rds_sock is added too early to the hash table<br /><br />Kent Gibson (2):<br />      gpio: fix line flag validation in linehandle_create<br />      gpio: fix line flag validation in lineevent_create<br /><br />Leonardo Bras (2):<br />      netfilter: bridge: Drops IPv6 packets if IPv6 module is not loaded<br />      netfilter: nft_fib_netdev: Terminate rule eval if protocol=IPv6<br />and ipv6 module is disabled<br /><br />Linus Torvalds (2):<br />      Revert "ext4: make __ext4_get_inode_loc plug"<br />      Linux 5.3<br /><br />Luca Coelho (1):<br />      iwlwifi: assign directly to iwl_trans-&gt;cfg in QuZ detection<br /><br />Maciej Żenczykowski (2):<br />      net-ipv6: fix excessive RTF_ADDRCONF flag on ::1/128 local route<br />(and others)<br />      ipv6: addrconf_f6i_alloc - fix non-null pointer check to !IS_ERR()<br /><br />Mao Wenan (5):<br />      net: sonic: return NETDEV_TX_OK if failed to map buffer<br />      net: sonic: replace dev_kfree_skb in sonic_send_packet<br />      sctp: change return type of sctp_get_port_local<br />      sctp: remove redundant assignment when call sctp_get_port_local<br />      sctp: destroy bucket if failed to bind addr<br /><br />Marcel Holtmann (1):<br />      Revert "Bluetooth: validate BLE connection interval updates"<br /><br />Mario Limonciello (1):<br />      Revert "Bluetooth: btusb: driver to enable the usb-wakeup feature"<br /><br />Mark-PK Tsai (1):<br />      perf/hw_breakpoint: Fix arch_hw_breakpoint use-before-initialization<br /><br />Matthias Lange (1):<br />      virtio_ring: fix unmap of indirect descriptors<br /><br />Maxime Ripard (1):<br />      drm/modes: Make the whitelist more const<br /><br />Michael S. Tsirkin (2):<br />      vhost: block speculation of translated descriptors<br />      Revert "vhost: block speculation of translated descriptors"<br /><br />Michal Suchanek (1):<br />      net/ibmvnic: Fix missing { in __ibmvnic_reset<br /><br />Moritz Fischer (1):<br />      net: fixed_phy: Add forward declaration for struct gpio_desc;<br /><br />Navid Emamdoost (3):<br />      Bluetooth: bpa10x: change return value<br />      wimax: i2400: fix memory leak<br />      net: qrtr: fix memort leak in qrtr_tun_write_iter<br /><br />Neal Cardwell (1):<br />      tcp: fix tcp_ecn_withdraw_cwr() to clear TCP_ECN_QUEUE_CWR<br /><br />Nicolas Dichtel (5):<br />      xfrm interface: avoid corruption on changelink<br />      xfrm interface: ifname may be wrong in logs<br />      xfrm interface: fix list corruption for x-netns<br />      xfrm interface: fix management of phydev<br />      bridge/mdb: remove wrong use of NLM_F_MULTI<br /><br />Pablo Neira Ayuso (2):<br />      netfilter: ctnetlink: honor IPS_OFFLOAD flag<br />      netfilter: nf_flow_table: set default timeout after successful insertion<br /><br />Paolo Bonzini (1):<br />      KVM: nVMX: handle page fault in vmread<br /><br />Paul Walmsley (1):<br />      riscv: modify the Image header to improve compatibility with the<br />ARM64 header<br /><br />Raag Jadav (1):<br />      regulator: act8945a-regulator: fix ldo register addresses in set_mode hook<br /><br />Radhey Shyam Pandey (1):<br />      MAINTAINERS: add myself as maintainer for xilinx axiethernet driver<br /><br />Randy Dunlap (1):<br />      lib/Kconfig: fix OBJAGG in lib/ menu structure<br /><br />Roman Gushchin (2):<br />      kselftests: cgroup: add freezer mkdir test<br />      cgroup: freezer: fix frozen state inheritance<br /><br />Sean Christopherson (1):<br />      KVM: x86/mmu: Reintroduce fast invalidate/zap for flushing memslot<br /><br />Shmulik Ladkani (1):<br />      net: gso: Fix skb_segment splat when splitting gso_size mangled<br />skb having linear-headed frag_list<br /><br />Stanislaw Gruszka (4):<br />      mt76: mt76x0e: don't use hw encryption for MT7630E<br />      mt76: mt76x0e: disable 5GHz band for MT7630E<br />      rt2x00: clear up IV's on key removal<br />      Revert "rt2800: enable TX_PIN_CFG_LNA_PE_ bits per band"<br /><br />Stefan Chulski (1):<br />      net: phylink: Fix flow control resolution<br /><br />Stefan Wahren (1):<br />      Revert "mmc: bcm2835: Terminate timeout work synchronously"<br /><br />Steffen Klassert (1):<br />      ixgbe: Fix secpath usage for IPsec TX offload.<br /><br />Steve Wahl (1):<br />      x86/purgatory: Change compiler flags from -mcmodel=kernel to<br />-mcmodel=large to fix kexec relocation errors<br /><br />Subash Abhinov Kasiviswanathan (1):<br />      net: Fix null de-reference of device refcount<br /><br />Thomas Huth (1):<br />      KVM: s390: Do not leak kernel stack data in the KVM_S390_INTERRUPT ioctl<br /><br />Ulf Hansson (3):<br />      Revert "mmc: tmio: move runtime PM enablement to the driver<br />implementations"<br />      mmc: tmio: Fixup runtime PM management during probe<br />      mmc: tmio: Fixup runtime PM management during remove<br /><br />Vasily Khoruzhick (1):<br />      drm/lima: fix lima_gem_wait() return value<br /><br />Ville Syrjälä (1):<br />      drm/i915: Limit MST to &lt;= 8bpc once again<br /><br />Wei Yongjun (1):<br />      gpio: mockup: add missing single_release()<br /><br />Wen Huang (1):<br />      mwifiex: Fix three heap overflow at parsing element in<br />cfg80211_ap_settings<br /><br />Xin Long (3):<br />      sctp: use transport pf_retrans in sctp_do_8_2_transport_strike<br />      tipc: add NULL pointer check before calling kfree_rcu<br />      sctp: fix the missing put_user when dumping transport thresholds<br /><br />Yang Yingliang (1):<br />      tun: fix use-after-free when register netdev failed<br /><br />Yizhuo (1):<br />      net: stmmac: dwmac-sun8i: Variable "val" in function<br />sun8i_dwmac_set_syscon() could be uninitialized<br /><br />Yunfeng Ye (1):<br />      genirq: Prevent NULL pointer dereference in resend_irqs()<br /><br />Zhu Yanjun (1):<br />      forcedeth: use per cpu to collect xmit/recv statistics<br /><br />yongduan (1):<br />      vhost: make sure log_num &lt; in_num<br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
