    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2000/10/30/51">First message in thread</a></li><li class="origin"><a href="/lkml/2000/10/30/39">Linus Torvalds</a><ul><li><a href="/lkml/2000/10/30/39">Alexander Viro</a><ul><li><a href="/lkml/2000/10/30/112">Rik van Riel</a></li></ul></li><li><a href="/lkml/2000/10/30/122">Keith Owens</a><ul><li><a href="/lkml/2000/10/30/225">Jeff Garzik</a><ul><li><a href="/lkml/2000/10/30/182">Keith Owens</a><ul><li><a href="/lkml/2000/10/30/158">Jeff Garzik</a></li></ul></li><li><a href="/lkml/2000/10/30/207">Linus Torvalds</a><ul><li><a href="/lkml/2000/10/31/4">(Rogier Wolff)</a></li><li><a href="/lkml/2000/10/30/215">Keith Owens</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2000/10/31/72">John Kennedy</a></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Mon, 30 Oct 2000 11:32:33 -0800 (PST)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">test10-pre7</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br />Ok, this one contains at least a preliminary fix for the problem with<br />truncate together with a concurrent page access - the bug that causes<br />oopses in block_read_full_page() and filemap_nopage().<br /><br />This is a fairly minimal fix, and I'll still have to verify that I caught<br />all the relevant places, but I wanted people who have seen this problem to<br />please test this out asap - I'll make a real test10 later once I've<br />integrated some further patches from Alan and Jeff, but this should fix<br />the major show-stopper bug.<br /><br />	Thanks,<br /><br />			Linus<br /><br />----<br /> - pre7:<br />    - Niels Jensen: remove no-longer-needed workarounds for old gcc versions<br />    - Ingo Molnar &amp; Rik v Riel: VM inactive list maintenance correction<br />    - Randy Dunlap, USB: printer.c, usb-storage, usb identification and<br />      memory leak fixes<br />    - David Miller: networking updates<br />    - David Mosberger: add AT_CLKTCK to elf information. And make AT_PAGESZ work<br />      for static binaries too.<br />    - oops. pcmcia broke by mistake<br />    - Me: truncate vs page access race fix.<br /><br /> - pre6:<br />    - Jeremy Fitzhardinge: autofs4 expiry fix<br />    - David Miller: sparc driver updates, networking updates<br />    - Mathieu Chouquet-Stringer: buffer overflow in sg_proc_dressz_write<br />    - Ingo Molnar: wakeup race fix (admittedly the window was basically<br />      non-existent, but still..)<br />    - Rasmus Andersen: notice that "this_slice" is no longer used for<br />      scheduling - delete the code that calculates it.<br />    - ALI pirq routing update. It's even uglier than we initially thought..<br />    - Dimitrios Michailidis: fix ipip locking bugs<br />    - Various: face it - gcc-2.7.2.3 miscompiles structure initializers.<br />    - Paul Cassella: locking comments on dev_base<br />    - Trond Myklebust: NFS locking atomicity. refresh inode properly.<br />    - Andre Hedrick: Serverworks Chipset driver, IDE-tape fix<br />    - Paul Gortmaker: kill unused code from 8390 support.<br />    - Andrea Arcangeli: fix nfsv3d wrong truncates over 4G<br />    - Maciej W. Rozycki: PIIX4 needs the same USB quirk handling as PIIX3.<br />    - me: if we cannot figure out the PCI bridge windows, just "inherit"<br />      the window from the parent. Better than not booting.<br />    - Ching-Ling Lee: ALI 5451 Audio core support update<br /><br /> - pre5:<br />    - Mikael Pettersson: more Pentium IV cleanup.<br />    - David Miller: non-x86 platforms missed "pte_same()".<br />    - Russell King: NFS invalidate_inode_pages() can do bad things!<br />    - Randy Dunlap: usb-core.c is gone - module fix<br />    - Ben LaHaise: swapcache fixups for the new atomic pte update code<br />    - Oleg Drokin: fix nm256_audio memory region confusion<br />    - Randy Dunlap: USB printer fixes<br />    - David Miller: sparc updates<br />    - David Miller: off-by-one error in /proc socket dumper<br />    - David Miller: restore non-local bind() behaviour.<br />    - David Miller: wakeups on socket shutdown()<br />    - Jeff Garzik: DEPCA net drvr fixes and CodingStyle<br />    - Jeff Garzik: netsemi net drvr fix<br />    - Jeff Garzik &amp; Andrea Arkangeli: keyboard cleanup<br />    - Jeff Garzik: VIA audio update<br />    - Andrea Arkangeli: mxcsr initialization cleanup and fix<br />    - Gabriel Paubert: better twd_i387_to_fxsr() emulation<br />    - Andries Brouwer: proper error return in ext2 mkdir()<br /><br /> - pre4:<br />    - disable writing to /proc/xxx/mem. Sure, it works now, but it's still<br />      a security risk.<br />    - IDE driver update (Victroy66 SouthBridge support)<br />    - i810 rng driver cleanup<br />    - fix sbus Makefile<br />    - named initializers in module..<br />    - ppoe: remove explicit initializer - it's done with initcalls.<br />    - x86 WP bit detection: do it cleanly with exception handling<br />    - Arnaldo Carvalho de Melo: memory leaks in drivers/media/video<br />    - Bartlomiej Zolnierkiewicz: video init functions get __init<br />    - David Miller: get rid of net/protocols.c - they get to initialize themselves<br />    - David Miller: get rid of dev_mc_lock - we hold dev-&gt;xmit_lock anyway.<br />    - Geert Uytterhoeven: Zorro (Amiga) bus support update<br />    - David Miller: work around gcc-2.7.2 bug<br />    - Geert Uytterhoeven: mark struct consw's "const".<br />    - Jeff Garzik: network driver cleanups, ns558 joystick driver oops fix<br />    - Tigran Aivazian: clean up __alloc_pages(), kill_super() and<br />      notify_change()<br />    - Tigran Aivazian: move stuff from .data to .bss<br />    - Jeff Garzik: divert.h typename cleanups<br />    - James Simmons: mdacon using spinlocks<br />    - Tigran Aivazian: fix BFS free block calculation<br />    - David Miller: sparc32 works again<br />    - Bernd Schmidt: fix undefined C code (set/use without a sequence point)<br />    - Mikael Pettersson: nicer Pentium IV setup handling.<br />    - Georg Acher: usb-uhci cpia oops fix<br />    - Kanoj Sarcar: more node_data cleanups for [non]NUMA.<br />    - Richard Henderson: alpha update to new vmalloc setup<br />    - Ben LaHaise: atomic pte updates (don't lose dirty bit)<br />    - David Brownell: ohci memory debugging (== use separate slabs for allocation)<br /><br /> - pre3:<br />    - update email address of Joerg Reuter<br />    - Andries Brouwer: spelling fixes, missing atari brelse(), breada() fix<br />    - Geert Uytterhoeven: used named initializers for "struct console".<br />    - Carsten Paeth: ISDN capifs - iput() only once.<br />    - Petr Vandrovec: VFAT short name generation fix<br />    - Jeff Garzik: i810_rng cleanup, and i815 chipset added.<br />    - Bartlomiej Zolnierkiewicz: clean up some remaining old-style Makefiles<br />    - Dave Jones: x86 setup fixes (recognize Pentium IV etc).<br />    - x86: do the "fast A20" setup too in setup.S<br />    - NIIBE Yutaka: update SuperH for the global page table (vmalloc) change.<br />    - David Miller: sparc updates (vmalloc stuff still pending)<br />    - David Miller: CodaFS warnings and 64-bit warnings in pci_size()<br />    - David Miller: pcnet32 - correct NULL test<br />    - David Miller: vmlist lock -&gt; page_table_lock clarification<br />    - Trond Myklebust: Ouch. rpcauth_lookup_credcache() memory corruption bug<br />    - Matthew Wilcox: file locking cleanups<br />    - David Woodhouse: USB audio spinlock fixes<br />    - Torben Mathiasen: tlan driver cleanups<br />    - Randy Dunlap: Yenta: CACHE_LINE_SIZE is in dwords, not bytes.<br />    - Randy Dunlap: more USB updates<br />    - Kanoj Sarcar: clean up the NUMA interfaces (pg_data instead of nodes)<br />    - "save_fpu()" was broken. Need to clear pending errors: save_init_fpu().<br /><br /> - pre2:<br />    - remember to change the kernel version ;)<br />    - isapnp.txt bugfix<br />    - ia64 update<br />    - sparc update<br />    - networking update (pppoe init, frame diverter, fix tcp_sendmsg,<br />      fix udp_recvmsg).<br />    - Compile for WinChip must _not_ use "-march=i686". It's a i586.<br />    - Randy Dunlap: more USB updates<br />    - clarify the Firewire AIC-5800 situation. It's not supported yet.<br />    - PCI-space decode size fix. This is needed for some (broken?) hardware<br />    - /proc/self/maps off-by-one error<br />    - 3c501, 3c507, cs89x0 network drivers drop unnecessary check_region<br />    - Asahi Kasei AK4540: new codec ID. Yamaha: new PCI ID's.<br />    - ne2k-pci net driver documentation update<br />    - Paul Gortmaker: delete paranoia check in rtc_exit<br />    - scsi_merge: memset the right amount of memory.<br />    - sun3fb: old __initfunc() not supported any more.<br />    - synclink: remove unnecessary task state games<br />    - xd.c: proper casting for 64-bit architectures<br />    - vmalloc: page table update race condition.<br /><br /> - pre1:<br />    - Roger Larsson: "&gt;=" instead of "&gt;" to make the VM not get stuck.<br />    - Gideon Glass: brw_kiovec() failure case oops fix<br />    - Rik van Riel: better memory balancing and OOM killer<br />    - Ivan Kokshaysky: alpha compile fixes<br />    - Vojtech Pavlik: forgotten ENOUGH macro in via82cxxx ide driver<br />    - Arnaldo Carvalho de Melo: acpi resource leak fix<br />    - Brian Gerst: use mov's instead of xchg in kernel trap entry<br />    - Torben Mathiasen: tlan timer being added twice bug<br />    - Andrzej Krzysztofowicz: config file fixes<br />    - Jean Tourrilhes: Wavelan lockup on SMP fix<br />    - Roman Zippel: initdata must be initialized (even if it is to zero:<br />      gcc is strange)<br />    - Jean Tourrilhes: hp100 driver lockup at startup on SMP<br />    - Russell King: fix silly minixfs uninitialized error bug<br />    - (various): fix uid hashing to use "uid_t" instead of "unsigned short"<br />    - Jaroslav Kysela: isapnp timeout fix. NULL ptr dereference fix.<br />    - Alain Knaff: fdformat should work again.<br />    - Randy Dunlap: USB - fix bluetooth, acm, printer, serial to work<br />      with urb-&gt;dev changes. <br />    - Randy Dunlap: USB whiteheat serial driver firmware update.<br />    - Randy Dunlap: USB hub memory corruption and pegasus driver update<br />    - Andre Hedrick: IDE Makefile cleanup<br /><br />-<br />To unsubscribe from this list: send the line "unsubscribe linux-kernel" in<br />the body of a message to majordomo&#64;vger.kernel.org<br />Please read the FAQ at <a href="http://www.tux.org/lkml/">http://www.tux.org/lkml/</a><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
