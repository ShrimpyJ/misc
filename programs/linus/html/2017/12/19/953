    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2017/12/18/586">First message in thread</a></li><li><a href="/lkml/2017/12/19/128">"Tobin C. Harding"</a><ul><li><a href="/lkml/2017/12/19/132">Dmitry Vyukov</a><ul><li><a href="/lkml/2017/12/19/174">"Tobin C. Harding"</a><ul><li><a href="/lkml/2017/12/19/181">Dmitry Vyukov</a></li></ul></li></ul></li><li><a href="/lkml/2017/12/19/405">Matthew Wilcox</a><ul><li><a href="/lkml/2017/12/19/420">Dmitry Vyukov</a><ul><li><a href="/lkml/2017/12/19/437">Tetsuo Handa</a><ul><li><a href="/lkml/2017/12/19/441">Dmitry Vyukov</a></li></ul></li></ul></li><li><a href="/lkml/2017/12/19/897">"Tobin C. Harding"</a></li><li class="origin"><a href="/lkml/2017/12/19/995">Linus Torvalds</a><ul><li><a href="/lkml/2017/12/19/995">Al Viro</a><ul><li><a href="/lkml/2017/12/19/1004">Randy Dunlap</a></li><li><a href="/lkml/2017/12/19/1039">Linus Torvalds</a></li><li><a href="/lkml/2017/12/19/1174">Linus Torvalds</a></li><li><a href="/lkml/2017/12/20/188">David Laight</a></li></ul></li><li><a href="/lkml/2017/12/19/998">Kees Cook</a></li><li><a href="/lkml/2017/12/19/1009">Matthew Wilcox</a></li><li><a href="/lkml/2017/12/19/1012">Laura Abbott</a></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js"></script><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Tue, 19 Dec 2017 13:36:46 -0800</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: BUG: bad usercopy in memdup_user</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody">On Tue, Dec 19, 2017 at 5:22 AM, Matthew Wilcox &lt;willy&#64;infradead.org&gt; wrote:<br />&gt;<br />&gt; Could we have a way to know that the printed address is hashed and not just<br />&gt; a pointer getting completely scrogged?  Perhaps prefix it with ... a hash!<br />&gt; So this line would look like:<br /><br />The problem with that is that it will break tools that parse things.<br /><br />So no, it won't work.<br /><br />When we find something like this, we should either remove it, fix the<br />permissions, or switch to %px.<br /><br />In this case, there's obviously no permission issue: it's an error<br />report. So it's either "remove it, or switch to %px".<br /><br />I'm personally not clear on whether the pointer really makes any sense<br />at all. But if it does, it should just be changed to %px, since it's a<br />bug report.<br /><br />But honestly, what do people expect that the pointer value will<br />actually tell you if it is unhashed?<br /><br />I suspect that an "offset and size within the kernel object" value<br />might make sense.  But what does the _pointer_ tell you?<br /><br />I've noticed this with pretty much every report. People get upset<br />about the hashing, but don't seem to actually be able to ever tell<br />what the f*ck they would use the non-hashed pointer value for.<br /><br />I've asked for this before: whenever somebody complains about the<br />hashing, you had better tell exactly what the unhashed value would<br />have given you, and how it would have helped debug the problem.<br /><br />Because if you can't tell that, then dammit, then we should just<br />_remove_ the stupid %p.<br /><br />Instead, people ask for "can I get everything unhashed" even when they<br />can't give a reason for it.<br /><br />            Linus<br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
