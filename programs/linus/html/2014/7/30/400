    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2014/7/29/812">First message in thread</a></li><li><a href="/lkml/2014/7/29/812">Greg Kroah-Hartman</a><ul><li><a href="/lkml/2014/7/29/713">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/714">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/719">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/720">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/721">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/722">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/723">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/724">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/725">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/726">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/728">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/729">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/730">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/731">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/735">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/737">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/740">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/745">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/750">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/766">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/771">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/781">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/784">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/786">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/787">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/788">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/789">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/794">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/795">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/797">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/799">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/801">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/802">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/29/808">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/7/30/42">Jakub Jelinek</a><ul><li><a href="/lkml/2014/7/30/56">Markus Trippelsdorf</a><ul><li><a href="/lkml/2014/7/30/58">Jakub Jelinek</a><ul><li><a href="/lkml/2014/7/30/71">Markus Trippelsdorf</a></li></ul></li></ul></li><li class="origin"><a href="/lkml/2014/8/5/198">Linus Torvalds</a><ul><li><a href="/lkml/2014/8/5/198">Josh Boyer</a><ul><li><a href="/lkml/2014/8/5/209">Markus Trippelsdorf</a></li><li><a href="/lkml/2014/8/5/364">Greg Kroah-Hartman</a></li><li><a href="/lkml/2014/8/5/429">Linus Torvalds</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2014/7/30/171">Satoru Takeuchi</a><ul><li><a href="/lkml/2014/7/30/417">Greg Kroah-Hartman</a></li></ul></li><li><a href="/lkml/2014/7/30/434">Guenter Roeck</a><ul><li><a href="/lkml/2014/7/30/659">Greg Kroah-Hartman</a></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js"></script><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Wed, 30 Jul 2014 08:47:55 -0700</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: [PATCH 3.15 33/37] Fix gcc-4.9.0 miscompilation of load_balance() in scheduler</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody">On Tue, Jul 29, 2014 at 11:53 PM, Jakub Jelinek &lt;jakub&#64;redhat.com&gt; wrote:<br />&gt;<br />&gt; IMNSHO this is a too big hammer approach.  The bug happened on a single<br />&gt; file only (right?)<br /><br />Very dubious. We happened to see it in a single case, and _maybe_ that<br />was the only one in the whole kernel. But it's much more likely that<br />it wasn't - it's not like the code in question was even all that<br />unusual (just a percpu access triggering an asm - but we have tons of<br />asms in the kernel).<br /><br />I'd argue that we were very lucky to get the problem happening<br />reliably enough for a couple of people who then cared enoiugh to do<br />good bug reports (considering that it needed an interrupt in *just*<br />the right place) that we could debug it at all. In some code that gets<br />run much less than the scheduler, it could easily have been one of<br />those "people report it once in a blue moon, looks like memory<br />corruption".<br /><br />Now, it would be interesting to hear if there is something very<br />special that made that instruction scheduling bug trigger just for<br />4.9.x, or if there is something else that made it very particular to<br />that code sequence. But in the absence of good reasoning to the<br />contrary, I'd much rather say "let's just avoid the bug entirely".<br /><br />And that's partly because we really don't care that much about the<br />debug info. Yes, it gets used, but it's not *that* common, and the<br />last time the issue of debug info sucking up tons of resources came<br />up, the biggest users were people who just wanted line information for<br />oopses. Yes, there are people running kgdb etc, but on the whole it's<br />rare, and quite frankly, from everything I have _ever_ seen, that's<br />not how the real kernel bugs are ever really discovered. So the kind<br />of debug information that the variable tracking logic adds just isn't<br />all that important for the kernel.<br /><br />                 Linus<br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
