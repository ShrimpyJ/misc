    </div></td><td width="32"> </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2010/10/26/281">First message in thread</a></li><li><a href="/lkml/2010/10/26/281">"J. Bruce Fields"</a><ul><li><a href="/lkml/2010/10/26/301">"J. Bruce Fields"</a><ul><li class="origin"><a href="/lkml/2010/10/26/310">Linus Torvalds</a><ul><li><a href="/lkml/2010/10/26/310">"J. Bruce Fields"</a></li></ul></li></ul></li><li><a href="/lkml/2010/10/26/402">Arnd Bergmann</a><ul><li><a href="/lkml/2010/10/26/418">Bryan Schumaker</a><ul><li><a href="/lkml/2010/10/26/428">Arnd Bergmann</a><ul><li><a href="/lkml/2010/10/26/430">Linus Torvalds</a></li></ul></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Tue, 26 Oct 2010 10:39:41 -0700</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: nfsd changes for 2.6.37</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody">On Tue, Oct 26, 2010 at 10:22 AM, J. Bruce Fields &lt;bfields&#64;fieldses.org&gt; wrote:<br />&gt; On Tue, Oct 26, 2010 at 12:45:50PM -0400, J. Bruce Fields wrote:<br />&gt;&gt; Please pull the following nfsd updates from the for-2.6.37 branch at:<br />&gt;&gt;<br />&gt;&gt;       git://linux-nfs.org/~bfields/linux.git for-2.6.37<br />&gt;<br />&gt; By the way, apologies, I see there's a conflict with upstream--looks<br />&gt; obvious (conflicting appends to<br />&gt; Documentation/feature-removal-schedule.txt), but I'm happy to fix it up<br />&gt; and add a merge commit on that branch if it saves you time.<br /><br />No, as mentioned elsewhere in other similar threads, I actually prefer<br />people _not_ to pre-merge. It results in significantly uglier history<br />(especially since I tend to merge a lot during the merge window, so<br />your pre-merge will not obviate my later merge, because my tree will<br />have moved forward), since criss-crossing merges really end up making<br />the gitk graph rather harder to read.<br /><br />But to me personally, the "uglier history" is actually the secondary<br />concern - I much prefer seeing the conflicts rather than have them<br />hidden from me by a pre-merge. Now, for something like<br />feature-removal-schedule.txt, the conflicts are usually not<br />interesting from a development angle, but on the other hand they are<br />also so trivial that they don't inconvenience me and I'd rather just<br />do them myself and avoid the history pollution of extra merges. But<br />then when the conflicts get more interesting and touching actual code,<br />I end up spending more time at them, but I _still_ want to see them,<br />because they inform me where different people ended up stepping on<br />each others code.<br /><br />And those conflicts are interesting to me as a top-level maintainer,<br />because it either shows code organizational problems, or it shows<br />where people really were touching the same code for good reasons. And<br />regardless of the reason for the conflict, I like being aware of it,<br />because merges like that are often indicative of "this might cause<br />issues".<br /><br />If the merge conflict ends up being so involved that I can't resolve<br />it, I'll push back an email saying so. It happens, but not very often<br />I'm happy to say. Our source organization is good enough that we<br />seldom have really complicated merges.<br /><br />One thing that some maintainers do is to do a private pre-merge just<br />to see if there are problems (and because it can give a more accurate<br />diffstat in the presense of criss-cross merges or duplicate changes)<br />and then if that merge is complex, expose both an unmerged branch and<br />a "here, if you have issues, this is how I resolved the merge" branch.<br />What I usually end up doing in that case is actually to do the merge<br />myself anyway (because of all the issues above - I just want to know<br />what is going on), but then also compare my end result with the<br />maintainer pre-merge result, just to verify.<br /><br />But even that kind of "both non-merged and pre-merged" pull requests<br />should be reserved just for cases where there really was a somewhat<br />involved conflict. For trivial conflicts like a feature removal doc<br />clash, don't even bother.  I do several trivial merges a day, it's<br />normal and it doesn't really take me any appreciable extra time. Git<br />command line of the day:<br /><br />  git log --oneline v2.6.36.. --merges --author=Torvalds --grep=onflict<br /><br />to see at least a partial list of the trivial conflicts I've done in<br />just this merge window. It's 3-4 per day, it's perfectly normal.<br /><br />                                Linus<br />--<br />To unsubscribe from this list: send the line "unsubscribe linux-kernel" in<br />the body of a message to majordomo&#64;vger.kernel.org<br />More majordomo info at  <a href="http://vger.kernel.org/majordomo-info.html">http://vger.kernel.org/majordomo-info.html</a><br />Please read the FAQ at  <a href="http://www.tux.org/lkml/">http://www.tux.org/lkml/</a><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
