    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2010/11/3/202">First message in thread</a></li><li><a href="/lkml/2010/11/3/202">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/3/165">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/166">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/167">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/168">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/169">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/170">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/171">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/172">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/173">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/174">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/175">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/176">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/177">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/178">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/179">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/180">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/181">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/182">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/183">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/184">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/185">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/186">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/187">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/188">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/189">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/190">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/191">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/192">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/193">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/194">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/195">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/196">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/197">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/198">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/200">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/201">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/203">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/204">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/205">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/18/171">Mel Gorman</a><ul><li><a href="/lkml/2010/11/25/202">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/26/123">Mel Gorman</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2010/11/3/206">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/18/332">Mel Gorman</a><ul><li><a href="/lkml/2010/11/18/786">KAMEZAWA Hiroyuki</a><ul><li><a href="/lkml/2010/12/14/282">Andrea Arcangeli</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2010/11/3/207">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/8/507">KOSAKI Motohiro</a></li><li><a href="/lkml/2010/11/18/235">Mel Gorman</a></li></ul></li><li><a href="/lkml/2010/11/3/208">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/209">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/18/791">KAMEZAWA Hiroyuki</a><ul><li><a href="/lkml/2010/12/14/280">Andrea Arcangeli</a></li></ul></li></ul></li><li><a href="/lkml/2010/11/3/210">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/212">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/18/228">Mel Gorman</a></li></ul></li><li><a href="/lkml/2010/11/3/213">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/26/337">Andrea Arcangeli</a></li></ul></li><li><a href="/lkml/2010/11/3/214">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/216">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/218">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/18/386">Mel Gorman</a><ul><li><a href="/lkml/2010/12/9/339">Andrea Arcangeli</a></li></ul></li></ul></li><li><a href="/lkml/2010/11/3/220">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/18/399">Mel Gorman</a></li></ul></li><li><a href="/lkml/2010/11/3/221">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/223">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/18/323">Mel Gorman</a><ul><li><a href="/lkml/2010/12/7/375">Andrea Arcangeli</a></li></ul></li></ul></li><li><a href="/lkml/2010/11/3/224">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/8/513">KOSAKI Motohiro</a><ul><li><a href="/lkml/2010/11/9/514">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/9/520">Mel Gorman</a></li></ul></li></ul></li><li><a href="/lkml/2010/11/18/66">Mel Gorman</a></li></ul></li><li><a href="/lkml/2010/11/3/225">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/226">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/227">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/18/391">Mel Gorman</a></li></ul></li><li><a href="/lkml/2010/11/3/228">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/9/21">KOSAKI Motohiro</a><ul><li><a href="/lkml/2010/11/9/493">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/14/2">KOSAKI Motohiro</a></li><li><a href="/lkml/2010/11/18/390">Mel Gorman</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2010/11/3/229">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/18/229">Mel Gorman</a></li></ul></li><li><a href="/lkml/2010/11/3/230">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/231">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/232">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/18/176">Mel Gorman</a><ul><li><a href="/lkml/2010/11/18/436">Linus Torvalds</a><ul><li><a href="/lkml/2010/11/25/263">Andrea Arcangeli</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2010/11/3/233">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/18/325">Mel Gorman</a></li></ul></li><li><a href="/lkml/2010/11/3/234">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/235">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/9/20">KOSAKI Motohiro</a><ul><li><a href="/lkml/2010/11/18/490">Andrea Arcangeli</a></li></ul></li></ul></li><li><a href="/lkml/2010/11/3/236">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/3/237">Andrea Arcangeli</a></li><li><a href="/lkml/2010/11/8/505">KOSAKI Motohiro</a><ul><li><a href="/lkml/2010/11/9/519">Andrea Arcangeli</a></li></ul></li><li><a href="/lkml/2010/11/8/506">KOSAKI Motohiro</a></li><li><a href="/lkml/2010/11/8/509">KOSAKI Motohiro</a><ul><li><a href="/lkml/2010/11/9/525">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/10/29">Hugh Dickins</a><ul><li><a href="/lkml/2010/11/10/237">Andrea Arcangeli</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2010/11/9/135">KOSAKI Motohiro</a><ul><li><a href="/lkml/2010/11/9/536">Andrea Arcangeli</a></li></ul></li><li><a href="/lkml/2010/11/18/163">Mel Gorman</a><ul><li><a href="/lkml/2010/11/18/423">Mel Gorman</a></li><li><a href="/lkml/2010/11/19/288">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/19/310">Linus Torvalds</a><ul><li><a href="/lkml/2010/11/19/343">Andrea Arcangeli</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2010/11/18/173">Mel Gorman</a></li><li><a href="/lkml/2010/11/18/194">Mel Gorman</a><ul><li><a href="/lkml/2010/11/25/275">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/26/128">Mel Gorman</a></li></ul></li></ul></li><li><a href="/lkml/2010/11/18/196">Mel Gorman</a></li><li><a href="/lkml/2010/11/18/203">Mel Gorman</a><ul><li><a href="/lkml/2010/11/25/279">Andrea Arcangeli</a></li></ul></li><li><a href="/lkml/2010/11/18/204">Mel Gorman</a><ul><li class="origin"><a href="/lkml/2010/11/25/290">Linus Torvalds</a><ul><li><a href="/lkml/2010/11/25/290">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/26/421">Linus Torvalds</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2010/11/18/221">Mel Gorman</a><ul><li><a href="/lkml/2010/11/26/336">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/29/116">Mel Gorman</a><ul><li><a href="/lkml/2010/11/29/316">Andrea Arcangeli</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2010/11/18/234">Mel Gorman</a><ul><li><a href="/lkml/2010/11/29/385">Andrea Arcangeli</a></li></ul></li><li><a href="/lkml/2010/11/18/324">Mel Gorman</a></li><li><a href="/lkml/2010/11/18/328">Mel Gorman</a><ul><li><a href="/lkml/2010/12/9/277">Andrea Arcangeli</a></li></ul></li><li><a href="/lkml/2010/11/18/329">Mel Gorman</a></li><li><a href="/lkml/2010/11/18/358">Mel Gorman</a><ul><li><a href="/lkml/2010/12/9/324">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/12/10/115">Mel Gorman</a></li></ul></li></ul></li><li><a href="/lkml/2010/11/18/365">Mel Gorman</a><ul><li><a href="/lkml/2010/12/9/326">Andrea Arcangeli</a></li></ul></li><li><a href="/lkml/2010/11/18/387">Mel Gorman</a><ul><li><a href="/lkml/2010/12/9/342">Andrea Arcangeli</a></li></ul></li><li><a href="/lkml/2010/11/18/396">Mel Gorman</a><ul><li><a href="/lkml/2010/12/9/346">Andrea Arcangeli</a></li></ul></li><li><a href="/lkml/2010/11/18/405">Mel Gorman</a></li><li><a href="/lkml/2010/11/18/788">KAMEZAWA Hiroyuki</a><ul><li><a href="/lkml/2010/12/14/281">Andrea Arcangeli</a></li></ul></li><li><a href="/lkml/2010/11/29/8">Daisuke Nishimura</a><ul><li><a href="/lkml/2010/11/29/279">Andrea Arcangeli</a><ul><li><a href="/lkml/2010/11/29/565">Daisuke Nishimura</a><ul><li><a href="/lkml/2010/11/30/300">Andrea Arcangeli</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2011/1/17/121">Michal Simek</a><ul><li><a href="/lkml/2011/1/17/127">Andrea Arcangeli</a><ul><li><a href="/lkml/2011/1/18/121">Michal Simek</a><ul><li><a href="/lkml/2011/1/18/252">Andrea Arcangeli</a></li></ul></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Thu, 18 Nov 2010 09:32:36 -0800</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: [PATCH 17 of 66] add pmd mangling generic functions</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody">On Thu, Nov 18, 2010 at 4:52 AM, Mel Gorman &lt;mel&#64;csn.ul.ie&gt; wrote:<br />&gt; On Wed, Nov 03, 2010 at 04:27:52PM +0100, Andrea Arcangeli wrote:<br />&gt;&gt; From: Andrea Arcangeli &lt;aarcange&#64;redhat.com&gt;<br />&gt;&gt;<br />&gt;&gt; Some are needed to build but not actually used on archs not supporting<br />&gt;&gt; transparent hugepages. Others like pmdp_clear_flush are used by x86 too.<br />&gt;&gt;<br />&gt;&gt; Signed-off-by: Andrea Arcangeli &lt;aarcange&#64;redhat.com&gt;<br />&gt;&gt; Acked-by: Rik van Riel &lt;riel&#64;redhat.com&gt;<br />&gt;<br />&gt; Acked-by: Mel Gorman &lt;mel&#64;csn.ul.ie&gt;<br /><br />I dunno. Those macros are _way_ too big and heavy to be macros or<br />inline functions. Why aren't pmdp_splitting_flush() etc just<br />functions?<br /><br />There is no performance advantage to inlining them - the TLB flush is<br />going to be expensive enough that there's no point in avoiding a<br />function call. And that header file really does end up being _really_<br />ugly.<br /><br />                      Linus<br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
