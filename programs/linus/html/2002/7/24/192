    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2002/7/24/192">First message in thread</a></li><li class="origin"><a href="/lkml/2002/7/24/27">Linus Torvalds</a><ul><li><a href="/lkml/2002/7/24/27">Greg KH</a><ul><li><a href="/lkml/2002/7/24/254">Linus Torvalds</a><ul><li><a href="/lkml/2002/7/25/9">Greg KH</a></li><li><a href="/lkml/2002/7/25/58">Greg KH</a><ul><li><a href="/lkml/2002/7/25/60">Thunder from the hill</a></li></ul></li><li><a href="/lkml/2002/7/25/71">Doug Ledford</a></li></ul></li></ul></li><li><a href="/lkml/2002/7/24/230">Paul Larson</a><ul><li><a href="/lkml/2002/7/24/21">Robert Love</a></li><li><a href="/lkml/2002/7/24/23">Paul Larson</a></li><li><a href="/lkml/2002/7/24/225">Linus Torvalds</a></li><li><a href="/lkml/2002/7/24/226">William Lee Irwin III</a></li><li><a href="/lkml/2002/7/24/255">Robert Love</a><ul><li><a href="/lkml/2002/7/24/240">Paul Larson</a></li></ul></li><li><a href="/lkml/2002/7/24/270">Paul Larson</a><ul><li><a href="/lkml/2002/7/24/287">Alessandro Suardi</a></li></ul></li></ul></li><li><a href="/lkml/2002/7/24/236">Daniel Egger</a><ul><li><a href="/lkml/2002/7/24/244">Linus Torvalds</a><ul><li><a href="/lkml/2002/7/24/284">Daniel Egger</a><ul><li><a href="/lkml/2002/7/24/262">Linus Torvalds</a></li><li><a href="/lkml/2002/7/27/98">Andries Brouwer</a></li></ul></li></ul></li><li><a href="/lkml/2002/7/24/249">(Jonathan Corbet)</a><ul><li><a href="/lkml/2002/7/25/59">Jens Axboe</a><ul><li><a href="/lkml/2002/7/25/87">Marcin Dalecki</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2002/7/24/237">Russell King</a><ul><li><a href="/lkml/2002/7/24/259">(Linus Torvalds)</a></li><li><a href="/lkml/2002/7/24/289">Skip Ford</a></li></ul></li><li><a href="/lkml/2002/7/24/246">Dave Jones</a><ul><li><a href="/lkml/2002/7/24/272">Linus Torvalds</a></li><li><a href="/lkml/2002/7/25/115">Alexander Hoogerhuis</a></li></ul></li><li><a href="/lkml/2002/7/26/14">Marcin Dalecki</a><ul><li><a href="/lkml/2002/7/28/150">Jens Axboe</a><ul><li><a href="/lkml/2002/7/28/190">Linus Torvalds</a><ul><li><a href="/lkml/2002/7/29/52">Jens Axboe</a></li></ul></li><li><a href="/lkml/2002/7/29/98">Marcin Dalecki</a><ul><li><a href="/lkml/2002/7/29/64">Jens Axboe</a></li><li><a href="/lkml/2002/7/29/94">Marcin Dalecki</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2002/7/26/46">Marcin Dalecki</a></li><li><a href="/lkml/2002/7/26/52">Marcin Dalecki</a></li><li><a href="/lkml/2002/7/26/56">Marcin Dalecki</a></li><li><a href="/lkml/2002/7/26/69">Marcin Dalecki</a><ul><li><a href="/lkml/2002/7/26/28">Marcin Dalecki</a></li><li><a href="/lkml/2002/7/26/38">Alan Cox</a></li><li><a href="/lkml/2002/7/26/58">Alan Cox</a></li><li><a href="/lkml/2002/7/26/68">Marcin Dalecki</a></li></ul></li><li><a href="/lkml/2002/7/26/74">Marcin Dalecki</a></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Wed, 24 Jul 2002 14:13:49 -0700 (PDT)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Linux-2.5.28</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br />The most fundamental part of this has already been discussed a lot and<br />posted to the kernel list, including a lot of fixes (all hopefully <br />integrated). That's obviously the removal of the global irq lock. In the <br />short term (famous last words) that breaks a number of SMP configurations, <br />but fixing them should not be horribly hard.<br /><br />A lot of other stuff here too - the regular USB updates, fbdev updates,<br />m68k and ppc64 updates, IDE fix, and a sync-up with Al. Serial lawyer all <br />shook up (the irq lock kind of forced that one, but it's certainly been <br />pending long enough..)<br /><br />Go wild,<br /><br />		Linus<br /><br />---<br /><br />Summary of changes from v2.5.27 to v2.5.28<br />============================================<br /><br />&lt;dalecki&#64;evision.ag&gt;:<br />  o IDE-101<br /><br />&lt;jb&#64;jblache.org&gt;:<br />  o drivers/usb/misc/tiglusb.c v1.04<br /><br />&lt;jsimmons&#64;maxwell.earthlink.net&gt;:<br />  o Added help for the Toshbia and Permedia3 framebuffer devices. Small<br />    fixes for the ATI 128 card and the logo drawing code in fbcon.c.<br />    Proper handling of data for pci handling<br />  o Added VBI support to VESA. ATY 128 compiles now :-)<br />  o Removed all old fbgen code. Small cleanups<br />  o Synced up to m68k changes<br /><br />&lt;levon&#64;movementarian.org&gt;:<br />  o consolidate task-&gt;mm code + fix<br /><br />&lt;petkan&#64;users.sourceforge.net&gt;:<br />  o USB: rtl8150 updated<br /><br />Alexander Viro &lt;viro&#64;math.psu.edu&gt;:<br />  o make hfs use regular semaphores<br />  o Use wipe_partitions() where appropriate<br />  o partition parsing cleanup<br />  o block device size cleanups<br />  o partition handling locking cleanups<br />  o blk_ioctl() not exported anymore<br />  o paride cleanup and fixes<br />  o SCSI -&gt;bios_param() switched to struct block_device *<br />  o removal of dead prototypes<br />  o jffs kdev_t cleanups<br />  o fix for nfs_unlink and vfs_unlink<br />  o Fix dcache deadlock introduced by previous fix<br /><br />Andrew Morton &lt;akpm&#64;zip.com.au&gt;:<br />  o disable highpte in rmap kernels<br />  o page-writeback.c compile warning fix<br /><br />Anton Blanchard &lt;anton&#64;samba.org&gt;:<br />  o ppc64: enable eeh on non-LPAR<br />  o ppc64: copy_user_page and clear_user_page now take a page * ppc64:<br />    updates for mmu gather code<br />  o ppc64: Use non context synchronising mtmsrd. Cleanup init.c<br />  o ppc64: 64 and 32 bit signal cleanups from Stephen Rothwell<br />  o ppc64: Implement copy_siginfo_to_user32 from Stephen Rothwell<br />  o ppc64: Remove POWER4 special case for cache_decay_ticks<br />  o ppc64: Initial DISCONTIGMEM and NUMA support<br />  o ppc64: Only use irq balancing on openpic for the moment<br />  o ppc64: update ppc64 tlb batch code<br />  o ppc64: Add fls<br />  o ppc64: POWER4 lazy icache flushing<br />  o ppc64: add missing gcc barrier in softirq code<br />  o ppc64: export timebase frequency in /proc/cpuinfo<br />  o pSeries HVC console: Fix hang up race - from Dave Engebretsen<br />  o pSeries HVC console: Add SYSRQ and handle errors better from Dave<br />    Engebretsen<br />  o pSeries firmware flash support from Todd Inglett<br />  o ppc64: iSeries updates<br />  o ppc64: increase IRQ_KMALLOC_ENTRIES<br />  o ppc64: ptrace cleanup from Stephen Rothwell<br />  o ppc64: ptrace32 fix when tracing 64bit tasks from Will Schmidt<br />  o ppc64: config.h resync and remove some stale code ppc64: turn off<br />    STRICT_MM_TYPECHECKS<br />  o pSeries HVC console: fix hvc_hangup definition<br />  o ppc64: remove __openfirmware and __chrp<br />  o ppc64: include/asm/md.h is not used any more<br />  o ppc64: remove some stale code<br />  o ppc64: updates for 2.5.21<br />  o ppc64: Makefile updates<br />  o ppc64: non linear cpu support<br />  o ppc64: define new scheduler hooks<br />  o ppc64: update for recent 32/64bit binutils<br />  o ppc64: Fix warnings<br />  o ppc64: Fix for 32 bit ELF timeval handling, from sparc64<br />  o ppc64: define SMP_CACHE_BYTES and cleanup HZ handling<br />  o ppc64: use symbolic names for fault types<br />  o ppc64: _switch_to -&gt; __switch_to<br />  o ppc64: defconfig update<br />  o ppc64: exception should be 0x480 for instruction SLB miss - jimix<br />  o ppc64: misc cleanups<br />  o ppc64: __clear_user should return number of bytes not copied<br />  o ppc64: iSeries update - from 2.4<br />  o ppc64: add comment and missing include<br />  o ppc64: Add northstar CPU<br />  o ppc64: Add winnipeg support<br />  o ppc64: UP fix for irq affinity<br />  o ppc64: add POWER4+ (GQ) support<br />  o ppc64: add rmap.h<br />  o ppc64: workaround for gcc 3.1, otherwise we busy loop in<br />    pte_chain_lock()<br />  o ppc64: fix test_bit and remove workaround in cpu_relax<br />  o ppc64: big IRQ lock removal<br />  o ppc64: Fix for spurious interrupts in LPAR without ISA<br />  o ppc64: merge some 2.4 fixes<br />  o ppc64: missed during last merge<br />  o ppc64: Designated initializers from Rusty<br />  o ppc64: add Config.help<br />  o ppc64: Optimise for 630 by default<br />  o ppc64: put paca in r13 and fix non zero boot cpu<br />  o flags must be unsigned long]<br />  o Make tlb_remove_tlb_entry take ptep]<br />  o Fix token ring compile]<br /><br />Christopher Hoover &lt;ch&#64;hpl.hp.com&gt;:<br />  o for ohci on SA-1111<br />  o set_device_description oops fixage mk2<br /><br />Dave Kleikamp &lt;shaggy&#64;kleikamp.austin.ibm.com&gt;:<br />  o Clean up Documentation/filesystems/jfs.txt<br />  o JFS: Use cond_resched()<br />  o JFS: cosmetic syncup with 2.4 code<br />  o JFS: Replace depreciated initializer syntax with C99 style<br /><br />David Brownell &lt;david-b&#64;pacbell.net&gt;:<br />  o usb_set_interface() doc<br />  o hid_ff_init could not find initializer<br /><br />Geert Uytterhoeven &lt;geert&#64;linux-m68k.org&gt;:<br />  o M68k update (1-49)<br /><br />Greg Kroah-Hartman &lt;greg&#64;kroah.com&gt;:<br />  o PCI Hotplug: fix i_nlink for root inode in pcihpfs<br />  o PCI Hotplug: fix the dbg() macro to work properly on older versions<br />    of gcc<br />  o USB pl2303: new device support added<br />  o USB: rio500.c bugfix<br />  o USB: usb-serial.h cleanups<br />  o USB: changed the interface name to be a bit more unique<br /><br />Hugh Dickins &lt;hugh&#64;veritas.com&gt;:<br />  o shm_destroy lock hang<br />  o shmem_link duplicated test<br />  o shmem_file_write double kunmap<br />  o shmem_getpage_locked missing unlock<br /><br />Ingo Molnar &lt;mingo&#64;elte.hu&gt;:<br />  o "big IRQ lock" removal, IRQ cleanups<br />  o "big IRQ lock" removal docs<br />  o Re: [patch] cli()/sti() cleanup<br />  o irqlock patch 2.5.27-H6<br />  o scheduler fixes<br /><br />James Simmons &lt;jsimmons&#64;heisenberg.transvirtual.com&gt;:<br />  o Removal of nonexistant iplan16 support. Compile fix for aty128fb<br />    driver. Proper handling of PCI private data for fbdev drivers<br />  o Removed old FB_COMPAT_XPMAC stuff. Ported over the Riva framebuffer<br />    driver over to the new api. Updated the Voodoo 1 driver<br />  o Added Help info for Permedia 3 and Toshiba TX3912 graphics card<br />    support<br />  o Updated Voodoo 1 documentation<br />  o Finished the NVIDIA driver port to the new api. Killed a strtok in<br />    sstfb<br />  o Added VBI support to VESA<br />  o Supports more NVIDIA cards<br />  o NVIDIA fixes to handle HSYNC and VSYNC flags. Set the registers to<br />    read the image data as big endian. Handle the different smem_len<br />    for different kinds of cards<br />  o Cleanusp for the 3Dfx driver<br />  o Finally touchs to the New mac framebuffer driver. Started the port<br />    of the ATI 128 driver to the new api. A few small optimizations and<br />    a bug fix for SUN 12x22 fonts with the new accel code<br />  o M68K updates for there framebuffer devices<br />  o More changes to port over teh ATI 128 driver to new api.<br />    Optimizations for fbgen and small bug fix for gen_update_var<br />  o Ported over ATI 128 Rage driver to new api. A few config mistakes<br />    where fixed<br />  o Ported SA1100 framebuffer over to new fbdev api<br />  o Fixed bug for large logos. Also had to make a patch to handle X<br />    server reversing the image order programming verses how the riva<br />    fbdev driver does it<br />  o Removed fbcon-vga.c and the old fbgen code. Ported over the SgiVW,<br />    OpenFirmware fbdev driver and started the Mach64 fbdev driver to<br />    the new api. A few simple typos as well<br />  o Port step some changes at authors request<br />  o Reversed so more changes<br />  o Permiedia 2 support on PowerPC platform<br />  o Updates to SIS framebuffer driver<br />  o Porting Mach 64 drive over to new api<br /><br />Jan Harkes &lt;jaharkes&#64;cs.cmu.edu&gt;:<br />  o uhci-hcd suspend fix<br /><br />Jens Axboe &lt;axboe&#64;burns.home.kernel.dk&gt;:<br />  o add __blk_stop_queue() as locked variant of blk_stop_queue() and<br />    make cpqarray and cciss use these<br /><br />kai.makisara&#64;kolumbus.fi &lt;Kai.Makisara&#64;kolumbus.fi&gt;:<br />  o SCSI tape driver fixes for 2.5.27<br /><br />Linus Torvalds &lt;torvalds&#64;home.transmeta.com&gt;:<br />  o Fix incoherent LDT at mmap exit<br />  o Update ensoniq sound driver to new irq serialization<br />  o Remove extraneous dget/dput pair in vfs_unlink() that confused the<br />    NFS client code wrt the exclusiveness of a dentry getting removed.<br />  o Remove unused variable<br />  o Fix up irqlock removal patch, avoid compiler warnings<br />  o Fixups for previous changesets, avoid warnings etc<br /><br />Neil Brown &lt;neilb&#64;cse.unsw.edu.au&gt;:<br />  o type safe(r) list_entry repacement: container_of<br />  o MD - Fix two bugs that would cause sync_sbs to Oops<br />  o MD - Convert struct initialised in md to "the new way"<br />  o MD - Remove get_spare declaration and associated warning<br />  o NFSD - new struct initialisers for nfsd<br /><br />Richard Gooch &lt;rgooch&#64;atnf.csiro.au&gt;:<br />  o Switched to ISO C structure field initialisers<br /><br />Rik van Riel &lt;riel&#64;conectiva.com.br&gt;:<br />  o urgent rmap bugfix<br /><br />Robert Love &lt;rml&#64;tech9.net&gt;:<br />  o Re: "big IRQ lock" removal docs<br /><br />Russell King &lt;rmk&#64;arm.linux.org.uk&gt;:<br />  o Serial driver stuff<br />  o [SERIAL] Rename files to remove serial_ prefix<br />  o [SERIAL] Fix up various filenames, etc, from Ingo's merge of serial<br />  o [SERIAL] Fix another SMP deadlock with modem status signal changes<br />    The original fix sent to Ingo for stop_tx didn't take account that<br />    the start_tx and stop_tx methods can be called from the device<br />    specific code under the port spinlock.  Consequently, we move the<br />    spinlock to the callers of these methods.  Documentation updated to<br />    reflect the change.<br />  o [SERIAL] Fix deadlock in __uart_start introduced in previous cset<br />    Thanks to Zwane Mwaikambo for finding this.<br />  o [SERIAL] Fix sa1100 serial driver stop function parameters<br /><br />Rusty Russell &lt;rusty&#64;rustcorp.com.au&gt;:<br />  o AGP designated initializer update<br />  o drivers/hotplug designated initializers<br /><br />Trond Myklebust &lt;trond.myklebust&#64;fys.uio.no&gt;:<br />  o 2.5.27 fix potential spinlocking race<br /><br /><br />-<br />To unsubscribe from this list: send the line "unsubscribe linux-kernel" in<br />the body of a message to majordomo&#64;vger.kernel.org<br />More majordomo info at  <a href="http://vger.kernel.org/majordomo-info.html">http://vger.kernel.org/majordomo-info.html</a><br />Please read the FAQ at  <a href="http://www.tux.org/lkml/">http://www.tux.org/lkml/</a><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
