    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/1996/7/25/74">First message in thread</a></li><li><a href="/lkml/1996/7/25/74">Uwe Bonnes</a><ul><li class="origin"><a href="/lkml/1996/8/6/13">Linus Torvalds</a><ul><li><a href="/lkml/1996/8/6/13">(Bernd P. Ziller)</a><ul><li><a href="/lkml/1996/8/7/24">Linus Torvalds</a><ul><li><a href="/lkml/1996/8/7/23">"Bernd P. Ziller"</a></li><li><a href="/lkml/1996/8/8/52">"Bernd P. Ziller"</a></li></ul></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Fri, 26 Jul 1996 10:25:04 +0300 (EET DST)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: Oops in get_hash_table</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br /><br />On Thu, 25 Jul 1996, Uwe Bonnes wrote:<br />&gt; <br />&gt; Today I tried to install a ISDN teles 16.3 card. As<br />&gt; Documentation/isdn/README gives wrong parameters, I loaded and<br />&gt; unloaded the teles module many times. When I found out that README<br />&gt; was out of sync with the code, I wanted to open emacs-19.31 to<br />&gt; change readme. When doing so, I got a segmentation fault. Trying to<br />&gt; open emacs another time then hanged.<br /><br />Ok, this crash _looks_ like the internal kernel buffer cache data structures<br />got corrupted, and when the linked list of hash structures gets corrupted<br />you'll see ugly things when some process tries to look up a page. The problem<br />is that it's not the access itself that is the problem, the corruption<br />happened earlier. <br /><br />I'm rather inclined to blame the ISDN code: I don't consider that really <br />stable. I should probably have put the ISDN question as a experimental <br />option, because it was added so late in the 1.3.x tree..<br /><br />&gt; Using `/usr/src/linux/System.map' to map addresses to symbols.<br />&gt; <br />&gt; &gt;&gt;EIP: 1229f4 &lt;get_hash_table+30/b4&gt;<br />&gt; Trace: 124005 &lt;brw_page+129/350&gt;<br />&gt; Trace: 155849 &lt;ext2_bmap+d9/24c&gt;<br />&gt; Trace: 12443b &lt;generic_readpage+7b/88&gt;<br />&gt; Trace: 11b58f &lt;filemap_nopage+117/2ac&gt;<br />&gt; Trace: 11b699 &lt;filemap_nopage+221/2ac&gt;<br />&gt; Trace: 118c30 &lt;do_no_page+104/344&gt;<br />&gt; Trace: 10fbab &lt;do_page_fault+13f/29c&gt;<br />&gt; <br />&gt; Code: 1229f4 &lt;get_hash_table+30/b4&gt; cmpl   %ebp,(%eax)<br />&gt; Code: 1229f6 &lt;get_hash_table+32/b4&gt; jne    122a20 &lt;get_hash_table+5c/b4&gt;<br />&gt; Code: 1229f8 &lt;get_hash_table+34/b4&gt; cmpw   %bx,0x4(%eax)<br />&gt; Code: 1229fc &lt;get_hash_table+38/b4&gt; jne    122a20 &lt;get_hash_table+5c/b4&gt;<br /><br />This is the code in "find_buffer()" (which is a inline function, so <br />that's why it shows up in get_hash_table()) that just goes through the <br />linked list of buffer hashes and checks<br /><br />	if (tmp-&gt;b_blocknr == block &amp;&amp; tmp-&gt;b_dev == dev)<br />		...<br /><br />where "tmp" is some corrupted pointer (I can't say what it looks like, <br />because you don't include the register information from the dump).<br /><br />		Linus<br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
