    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/1996/7/7/53">First message in thread</a></li><li><a href="/lkml/1996/7/8/6">Linus Torvalds</a><ul><li><a href="/lkml/1996/7/9/15">Jeremy Fitzhardinge</a><ul><li class="origin"><a href="">Linus Torvalds</a></li><li><a href="/lkml/1996/7/10/8">Zefram</a></li></ul></li><li><a href="/lkml/1996/7/8/10"> Mark.Hemment&#64;uniplex ...</a><ul><li><a href="/lkml/1996/7/9/2">=?ISO-8859-1?Q?Johan_Myr=E9en?=</a></li><li><a href="/lkml/1996/7/8/14">Zefram</a><ul><li><a href="/lkml/1996/7/8/15"> Mark.Hemment&#64;uniplex ...</a></li></ul></li></ul></li><li><a href="/lkml/1996/7/8/11">(Thomas Koenig)</a><ul><li><a href="/lkml/1996/7/8/18"> Mark.Hemment&#64;uniplex ...</a></li><li><a href="/lkml/1996/7/8/30">Todd Graham Lewis</a></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Tue, 9 Jul 1996 09:03:40 +0300 (EET DST)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: How does chown(2) works with symlinks?</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br /><br />On Tue, 9 Jul 1996, Jeremy Fitzhardinge wrote:<br />&gt; <br />&gt; So long as you can open the file.  Its possible you want to chown a file you own<br />&gt; but can't open, and if chmod is consistent with chown (which I certainly hope<br />&gt; is the case), you won't be able to chmod it before trying to open it.<br /><br />Note that only root can chown() files under Linux (or any other reasonable<br />system - you end up with messes that only root can fix up if you allow normal<br />users to chown() their files, not to mention quotas), so this is not a<br />problem.<br /><br />Chmod _would_ be a problem, but as symbolic links can't have permissions (a<br />mistake in my opinion, but hey, that's how it is) the decision there is<br />trivial (always follow the link for chmod()). <br /><br />&gt; &gt;  If you use "chown()" on the<br />&gt; &gt; pathname it will change the synlink itself (if you think about it, that is<br />&gt; &gt; actually the reasonable behaviour: otherwise you could never change the owner<br />&gt; &gt; of the symlink).<br />&gt; <br />&gt; It might be reasonable behaviour if there were ever a need to change the owner<br />&gt; of a symlink.  However, seeing as a symlink is a mere loophole in the namespace<br />&gt; and has no function in itself, the owner, like its mode, is completely irrelevent.<br /><br />You're wrong: it's entirely reasonable to chown() a symlink, one reason being<br />that root may create a new user, then build a default set of system files for<br />the user in his home directory, and then do a<br /><br />	chown -R newuser ~newuser<br /><br />Or something to that effect (actually, the more "normal" thing might be <br />just a UID re-organization where you want to change the UID of a existing <br />user for some reason).<br /><br />You don't want to leave the symlink as the old UID, because there are<br />actually a few special rules about UID's (sticky bits on world-writable<br />directories, for example). <br /><br />		Linus<br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
