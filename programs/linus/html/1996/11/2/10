    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/1996/11/1/68">First message in thread</a></li><li><a href="/lkml/1996/11/1/68">Nuno Miguel Grilo</a><ul><li><a href="/lkml/1996/11/1/72">Steve VanDevender</a><ul><li class="origin"><a href="/lkml/1996/11/2/19">Linus Torvalds</a><ul><li><a href="/lkml/1996/11/2/19">(Alan Cox)</a></li><li><a href="/lkml/1996/11/2/29">(Alexander Sanda)</a><ul><li><a href="/lkml/1996/11/2/34">Chris Evans</a></li></ul></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Sat, 2 Nov 1996 12:52:38 +0200 (EET)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: X much slower in 2.0.24 than in 1.2.13</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br /><br />On Fri, 1 Nov 1996, Steve VanDevender wrote:<br />&gt; <br />&gt; I noticed this same thing yesterday when benchmarking XFree86 3.2.  It<br />&gt; does look like it's potentially a kernel problem; there seems to be a<br />&gt; much higher proportion of system (kernel) time to user time while X<br />&gt; benchmarks like xbench and x11perf are running than seems reasonable,<br />&gt; about 50/50 if xosview is believable.  The benchmarks themselves seem to<br />&gt; draw in a way similar to what would happen if they were being run with a<br />&gt; high CPU load on the system, with jerkiness in the drawing.<br /><br />[ Somebody else reported that the difference is between 2.0.23 and <br />  2.0.24, so it looks like something specific to .24 ]<br /><br />Ok, can you tell me your hardware? The 2.0.24 tulip driver has a problem with<br />the multicast code, for example, and that has been reported to result in some<br />strange behaviour. <br /><br />(To fix the tulip code, search for a number like 0x08000 and add three zeroes<br />to the end: I think there should be only one case of that number in the file)<br /><br />Another thing to check for: do you use gpm? There was a bugfix with VC<br />selection wait-queues in 2.0.24, and maybe that fix made gpm act <br />strangely. Maybe gpm _is_ adding CPU load to the system...<br /><br />Also, Alan did a socket write-allocation change, which I haven't even tested<br />(I've never run 2.0.x since I upgraded to 2.1.x, and I haven't ported all of<br />the fixes from Alan into 2.1.x yet). Alan, have you checked the wmem changes<br />wrt performance? <br /><br />Finally, the SMP TLB invalidate code changed, are you running on SMP? <br /><br />		Linus<br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
