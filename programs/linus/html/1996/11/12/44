    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/1996/11/12/42">First message in thread</a></li><li><a href="/lkml/1996/11/12/42">(Philippe Strauss)</a><ul><li class="origin"><a href="/lkml/1996/11/12/59">Linus Torvalds</a><ul><li><a href="/lkml/1996/11/12/59">(Philippe Strauss)</a></li><li><a href="/lkml/1996/11/12/77">(Philippe Strauss)</a><ul><li><a href="/lkml/1996/11/13/93">Gerard Roudier</a><ul><li><a href="/lkml/1996/11/14/29">(Philippe Strauss)</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/1996/11/12/47">Philip Blundell</a><ul><li><a href="/lkml/1996/11/12/74">Philip Blundell</a><ul><li><a href="/lkml/1996/11/13/97">(Philippe Strauss)</a></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Tue, 12 Nov 1996 18:48:52 +0200 (EET)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: Oopses with 2.1.8</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br /><br />On Tue, 12 Nov 1996, Philippe Strauss wrote:<br />&gt; <br />&gt; I've posted some days ago oops report on my box with 2.1.8.<br />&gt; Nobody answered so i must be the only one seeing this.<br /><br />At least the panic you post is "impossible", so somehting very subtle <br />indeed must be going on.<br /><br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: Unable to handle kernel NULL pointer dereference at virtual address 00000064<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: current-&gt;tss.cr3 = 00101000, Dr3 = 00101000<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: *pde = 00000000<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: Oops: 0000<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: CPU:    0<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: EIP:    0010:[&lt;c012fb25&gt;]<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: EFLAGS: 00010046<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: eax: 0000000c   ebx: c0275c10   ecx: 00000001   edx: c0275c10<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: esi: c1c3d0cc   edi: 00000054   ebp: c0084808   esp: c01e34e0<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: ds: 0018   es: 0018   ss: 0018<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: Process swapper (pid: 0, process nr: 0, stackpage=c01e16bc)<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: Stack: c0275c10 c1c3d0cc 00000002 c0084808 c0084808 c01259a5 c0275c10 c1c3d0cc<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel:        c0084860 0000000a c01a6313 c1c3d0cc c1c3d0cc 00000001 00000054 00000010<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel:        c0084808 00000000 c01a67e9 c0084808 00000001 00000010 00000000 c0084808<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: Call Trace: [&lt;c01259a5&gt;] [&lt;c01a6313&gt;] [&lt;c01a67e9&gt;] [&lt;c01a2ac4&gt;] [&lt;c01ae685&gt;]<br />&gt; [&lt;c01ae6aa&gt;] [&lt;c01ae70f&gt;]<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel:        [&lt;c01af1e1&gt;] [&lt;c0111680&gt;] [&lt;c01ad621&gt;] [&lt;c01b1753&gt;] [&lt;c010c8ca&gt;] [&lt;c010c391&gt;] [&lt;c0109654&gt;] [&lt;c010a7e8&gt;]<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel:        [&lt;c0109348&gt;] [&lt;c01091c3&gt;] [&lt;c01c5e5d&gt;] [&lt;c0116c08&gt;]<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: Code: 66 83 7f 10 02 74 07 83 7c 24 24 00 74 0f c7 44 24 10 12 08<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: Aiee, killing interrupt handler<br /><br />Can you tell me what the call trace is? You should never get a "killing <br />interrupt handler" message from the exec() code, because no interrupt <br />handler should ever try to execve anything.<br /><br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: kfree of non-kmalloced memory: c01e3704, next= 00000000, order=0<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: kfree of non-kmalloced memory: c01e36f4, next= 00000000, order=0<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: kfree of non-kmalloced memory: c01e3c08, next= 00000000, order=0<br />&gt; Nov 12 15:16:52 sicel-home-1-4 kernel: idle task may not sleep<br />&gt; Nov 12 15:16:52 sicel-home-1-4 last message repeated 4 times<br />&gt; Nov 12 15:16:55 sicel-home-1-4 kernel: Socket destroy delayed (r=0 w=248)<br />&gt; Nov 12 15:17:05 sicel-home-1-4 last message repeated 3 times<br />&gt; Nov 12 15:17:49 sicel-home-1-4 syslogd: exiting on signal 15<br />&gt; <br />&gt; went through colrm and ksymoops:<br />&gt; <br />&gt; Using `/boot/SysMap/System.map.218.96.11.12.14.44' to map addresses to symbols.<br />&gt; <br />&gt; &gt;&gt;EIP: c012fb25 &lt;load_elf_interp+189/2e0&gt;<br />&gt; <br />&gt; Code: c012fb25 &lt;load_elf_interp+189/2e0&gt; cmpw   $0x2,0x10(%edi)<br /><br />This is the test<br /><br />	if (interp_elf_ex-&gt;e_type == ET_EXEC || load_addr_set) {<br /><br />in particular, "interp_elf_ex" is in %edi, and has a value of 0x00000054, <br />which is indeed a very bad kernel pointer.<br /><br />However, the "funny" thing is that the same pointer should have been used <br />at the top of the for() loop that the test is inside, so the exception <br />should have happened much earlier. That's why I'd like to see the <br />symbolic version of the call trace, because I suspect the panic comes <br />from something jumping through a corrupt pointer, and I'd like to know <br />who the jumper is..<br /><br />&gt; What are thos nop'ses replacing the movl?? Self modifying code? Shitty DRAM?<br />&gt; Something in kernel space writing stuff around?<br /><br />No, it's just that the kernel panic doesn't give more than 20 bytes of <br />instructions, and the disassembler will give bogus disassembly for the <br />last bytes due to incomplete partial instructions.<br /><br />Oh, and you might just try out 2.1.9, which has some fixes to the <br />networking code, maybe it makes a difference..<br /><br />		Linus<br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
