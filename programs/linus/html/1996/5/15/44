    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/1996/5/15/32">First message in thread</a></li><li><a href="/lkml/1996/5/15/32">Dan Merillat</a><ul><li class="origin"><a href="/lkml/1996/5/23/34">Linus Torvalds</a><ul><li><a href="/lkml/1996/5/23/34">"Daniel A. Taylor"</a></li><li><a href="/lkml/1996/5/15/98">Dan Merillat</a></li></ul></li><li><a href="/lkml/1996/5/15/49">Alan Cox</a></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js"></script><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Wed, 15 May 1996 14:30:00 +0300 (EET DST)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: A few questions and notes....</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br /><br />On Wed, 15 May 1996, Dan Merillat wrote:<br />&gt; <br />&gt; Ok, I'm still running 1.3.99 (I know, obselete...:-)  but I'm still <br />&gt; getting double-lock on socket at 00149b33 (tcp_sendmsg)<br />&gt; <br />&gt; Grr.  Well, a judicious #if 0 in the source nuked that one for now.  It<br />&gt; happens when I have a telnet session open that I havn't used in a while.<br />&gt; (Virtual consoles do that... :-)  As soon as I type, I get a few of <br />&gt; those, then it stops.  <br /><br />The "double lock on socket" message is harmless - I'll take it out for <br />2.0. It happens when there is swapping activity and the same socket is <br />used concurrently by two programs - this was why I rewrote the socket <br />locking code in the first place. That's why you see it on telnet sessions <br />that have been idle - they've been swapped out.<br /><br />The reason the message is there at all is that I wanted to make sure I <br />hadn't forgotten to unlock the socket anywhere. So the kernel prints it <br />out even when it's valid, just in case... I think we can sleep safely <br />knowing that the locking works correctly (it ahsn't been causing any <br />probles for a _long_ time).<br /><br />So don't worry if you get this one - it's going away.<br /><br />(Note: the "double lock on device queue" message that sounds similar _is_ <br />a real bug, so if people see that one then tell the world)<br /><br />		Linus<br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
