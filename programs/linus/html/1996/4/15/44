    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/1996/4/14/45">First message in thread</a></li><li><a href="/lkml/1996/4/14/45">Gerard Roudier</a><ul><li><a href="/lkml/1996/4/14/58">"Jordan K. Hubbard"</a></li><li><a href="/lkml/1996/4/14/62">"John S. Dyson"</a><ul><li><a href="/lkml/1996/4/14/66">Gerard Roudier</a></li><li><a href="/lkml/1996/4/14/73">Gerard Roudier</a></li></ul></li><li><a href="/lkml/1996/4/14/89">(Jon Tombs)</a><ul><li><a href="/lkml/1996/4/15/23">"Jordan K. Hubbard"</a><ul><li><a href="/lkml/1996/4/16/21">"David S. Miller"</a></li></ul></li><li><a href="/lkml/1996/4/15/29">Jacques Gelinas</a></li><li><a href="/lkml/1996/4/15/43">Brian Tao</a></li></ul></li><li><a href="/lkml/1996/4/14/90">"JULIAN Elischer"</a><ul><li class="origin"><a href="/lkml/1996/4/15/65">Linus Torvalds</a><ul><li><a href="/lkml/1996/4/15/65">"John S. Dyson"</a><ul><li><a href="/lkml/1996/4/15/83">Bryn Paul Arnold Jones</a></li></ul></li><li><a href="/lkml/1996/4/15/79">Lars Marowsky-Bree</a></li><li><a href="/lkml/1996/4/15/117">Roman Gollent</a><ul><li><a href="/lkml/1996/4/17/57">Alan Cox</a></li><li><a href="/lkml/1996/4/15/124">"David S. Miller"</a></li><li><a href="/lkml/1996/4/16/50">Linus Torvalds</a></li></ul></li><li><a href="/lkml/1996/4/15/123">Terry Lambert</a><ul><li><a href="/lkml/1996/4/17/68">Alan Cox</a></li><li><a href="/lkml/1996/4/17/144">"Taylor C. Carpenter"</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/1996/4/15/115">Terry Lambert</a></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Mon, 15 Apr 1996 09:09:58 +0300 (EET DST)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: Unices are created equal, but ...</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br /><br />On Sun, 14 Apr 1996, JULIAN Elischer wrote:<br />&gt; <br />&gt; Ok, here is my attempt at the missing information....<br /><br />This is probably approaching being closer, but it's not really as <br />clear-cut as even this.<br /><br />Personally, I _want_ linux to be faster on everything, but when it comes <br />to real life, I'd say that _any_ of the Free UNIXen are "fast enough". <br />There is always going to be some differences in different areas, but with <br />both groups being pretty performance-minded I don't really think we'll <br />ever have any really noticeable differences in any "normal" circumstances.<br /><br />&gt; I would expect the following to be true between Linix 1.3.x and FreeBSD 2.0.5.<br />&gt; category 1:--Linux faster in:<br />&gt; 		context switch, including some system calls.<br />&gt; 		possibly some program startup.<br />&gt; 		possibly pipe code.<br />&gt; 		possibly FP emulation.<br />&gt; 		possibly FP exception handling.<br />&gt; 		Any test that does a lot of filesystem meta-data manipulation.<br />&gt; 		  e.g. file creation and deletion.<br /><br />I can't really say much about it: I can't even claim to have benchmarked <br />any *BSD machine. All the things you mention are "good" under linux, <br />though, so I'd suspect that linux is at least on par with BSD in any of <br />the above and may be faster.<br /><br />On the other hand, Dyson tells me that the FreeBSD team has been <br />optimizing lots of those things too, and I wouldn't be surprised if they <br />are more or less at the same level as linux is..<br /><br />Again, I don't think the speed makes a huge difference (a 10% difference <br />looks huge in benchmarks, but has little meaning in real life unless <br />either is 10% faster at _everything_)<br /><br />&gt; category 2:--FreeBSD 2.0.5 faster in:<br />&gt;		Anything to do with networking<br /><br />No longer true. These days it's "some things to do with networking", and <br />while I suspect that BSD may have the edge here still, these days it's <br />really the _edge_, not the whole blade ;-)<br /><br />&gt; 		Anything using a raw tape or disk device.<br /><br />This may well be true. I'll be the first to admit that I don't really <br />care for "raw devices". The only time I ever use the raw device is when <br />fsck runs, and I couldn't care less about performance there (well, I <br />could, but you get the idea).<br /><br />Tapes I have no idea about. You may or may not be right.<br /><br />&gt; 		Any benchmark that loaded the system very heavily,<br />&gt; 		  especially if it produced swapping.<br /><br />The differences shouldn't be that large any more. The asynchronous <br />swapping code and the swap deamon in newer linux kernels help performance <br />under load. Again, I'm more inclined to think that one system may be <br />better on some hardware, while the other might be better at something <br />else. <br /><br />&gt; 		Any benchmark that tested high-speed large sustained <br />&gt; 		  IO to files.<br /><br />This has actually changed, and I suspect that's why Gerard did the <br />benchmark in the first place. He's been working on that part of the code, <br />and we're doing very well.<br /><br />Unlike raw device accesses, I consider filesystem access speed very <br />important, and I've mostly concentrated on getting good performance <br />through good caching. Linux traditionally hasn't been as good in things <br />where caches don't help (ie the cases you mention above), but that has <br />improved a lot lately. Maybe somebody has access to FreeBSD-current and <br />Linux-current on the same machine and can compare bonnie?<br /><br />&gt; category 3:--Linux and FreeBSD 2.0.5 about equivalent in:<br />&gt; 		Anything that relies mostly on plain CPU<br />&gt; 		with no or little OS involvement.<br />&gt; 		(as both use the same cpu.)<br /><br />I'd like to put a lot more here. In practice I don't think the <br />differences are so large.<br /><br />HOWEVER, despite the fact that I don't think it matters in real life, I'm <br />all for people doing benchmarks, and crying out when one or the other is <br />slower in something. Not because I think it makes much of a difference for <br />normal users, but because it's good for development. It's a great way to <br />motivate people to do better (show that the competition can do better at <br />something, and you force us to try to improve ourselves).<br /><br />I think _that_ is why benchmarks are important, not so much for testing <br />which one is more "worthy"..<br /><br />&gt; &gt;     If you are a FreeBSD-current user and if you have about the same <br />&gt; &gt;     configuration as mine, can you run the old BYTE benchmark <br />&gt; &gt;     and send to me your results?<br />&gt; <br />&gt; I don't think it would be useful unless we had EXACTLY the same hardware..<br />&gt; I have seen small differences make up to 50% difference..<br /><br />Indeed. Even on the same machine the placement of the partitions can make <br />a noticeable difference for disk tests, so benchmarking is not a trivial <br />thing.. It might still be interesting to see some kind of benchmarking <br />done, just for "some data" as opposed to "THE data".<br /><br />If somebody wants to do benchmarking,I'd suggest using at least<br /> - lmbench (nice microbenchmark)<br /> - bonnie (reasonable disk performance benchmark)<br /> - webstone (or something similar. But use "apache" as the server, not <br />   some braindead horror like NCSA).<br /> - ???<br /><br />(the three mentioned should cover different areas, all very reasonable, <br />but have I missed some important area?)<br /><br />		Linus<br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
