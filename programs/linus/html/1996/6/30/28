    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/1996/6/28/5">First message in thread</a></li><li><a href="/lkml/1996/6/28/33">Systemkennung Linux</a><ul><li><a href="/lkml/1996/6/30/10">(H. Peter Anvin)</a><ul><li class="origin"><a href="">Linus Torvalds</a></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Mon, 1 Jul 1996 07:04:35 +0300 (EET DST)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: CPU Utilization</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br /><br />On 30 Jun 1996, H. Peter Anvin wrote:<br />&gt; <br />&gt; The *instantaneous* CPU usage, when measured, is always 100% since<br />&gt; your measuring process is obviously running at that time, the CPU is<br />&gt; being utilized... hence, it is a useless metric, and the reason a<br />&gt; decaying average is used instead.<br /><br />Actually, depending on your definition of "instantaneous", what you might <br />be searching for is the number of currently runnable processes. That's <br />easy to get, just do a<br /><br />	linux$ cat /proc/loadavg <br />	0.00 0.00 0.00 2/52 15207<br /><br />And look at the "X/Y" part. The "X" (2 above) is the number of currently<br />runnable processes, while "Y" is the total number of processes in the system<br />(52 here). <br /><br />Now, obviously the process that checks the loadaverage is always counted into<br />it, so you have to subtract 1 from X to get a reasonable number.  Also, Linux<br />actually counts the idle tasks (one for each CPU) into the number of runnable<br />processes, so you should actually subtract (1+CPUnr) from the number (as you<br />can see from the loadaverage, my machine is pretty idle right now, I'm just<br />reading email and news, load=0). You can get the number of CPU's by looking<br />at /proc/cpuinfo, so you _can_ get all the info for some kind of<br />"instantaneous" load. <br /><br />I don't know if that number makes any _sense_, but it's there if you want <br />it.<br /><br />		Linus<br /><br />PS. The normal "loadaverage" numbers actually count processes in disk sleep<br />toward the loadaverage, because that is usually a better indication of load<br />than just counting the number of runnable processes. The X/Y number (or<br />rather, "X"), only counts the number of _running_ processes, though. So the<br />/proc/loadavg numbers don't actually count the same things.. <br /><br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
