    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2021/10/18/1371">First message in thread</a></li><li><a href="/lkml/2021/10/18/1371">Paolo Bonzini</a><ul><li class="origin"><a href="/lkml/2021/10/18/1395">Linus Torvalds</a><ul><li><a href="/lkml/2021/10/18/1395">Paolo Bonzini</a><ul><li><a href="/lkml/2021/10/18/1405">Linus Torvalds</a><ul><li><a href="/lkml/2021/10/18/1415">Paolo Bonzini</a></li></ul></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js"></script><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Mon, 18 Oct 2021 07:57:36 -1000</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: [GIT PULL] KVM fixes for Linux 5.15-rc7</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody">On Mon, Oct 18, 2021 at 7:42 AM Paolo Bonzini &lt;pbonzini&#64;redhat.com&gt; wrote:<br />&gt;<br />&gt; * avoid warning with -Wbitwise-instead-of-logical<br /><br />Christ. Please no.<br /><br />Guys, you can't just mindlessly shut off warnings without even<br />thinking about the code.<br /><br />Apparently the compiler gives completely insane warning "fixes"<br />suggestions, and somebody just completely mindlessly followed that<br />compiler badness.<br /><br />The way to do a logical "or" (instead of a bitwise one on two boolean<br />expressions) is to use "||".<br /><br />Instead, the code was changed to completely insane<br /><br />   (int) boolexpr1 | (int) boolexpr2<br /><br />thing, which is entirely illegible and pointless, and no sane person<br />should ever write code like that.<br /><br />In other words, the *proper* fix to a warning is to look at the code,<br />and *unsderstand* the code and the warning, instead of some mindless<br />conversion to just avoid a warning.<br /><br />NEVER EVER do mindless changes to source code because the compiler<br />tells you to. Apparently the clang people wrote a particularly bad<br />warning "explanation", and that's on clang.<br /><br />I'm not going to pull this. The clang warning fix is wrong, and then<br />another commit literally disables accounting for another non-fatal<br />run-time warning.<br /><br />Again - warnings are not an excuse to just "mindlessly shut up the warning".<br /><br />They need some thought.<br /><br />None of this kind of "I'll do wrong things just to make the warning go<br />away" garbage that this pull request has two very different examples<br />of.<br /><br />I'm adding some clang people, because apparently that<br /><br />    note: cast one or both operands to int to silence this warning<br /><br />thing came from clang. Somebody in the clang community really needs to<br />re-think their "informational" messages.<br /><br />Giving people those kinds of insane suggestions is a disservice to<br />everybody. Clang should fix their stupid "note" before release.<br />Please, guys.<br /><br />            Linus<br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
