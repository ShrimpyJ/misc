    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2021/8/30/52">First message in thread</a></li><li><a href="/lkml/2021/8/31/639">Linus Torvalds</a><ul><li><a href="/lkml/2021/8/31/669">Steve French</a><ul><li class="origin"><a href="/lkml/2021/8/31/738">Linus Torvalds</a><ul><li><a href="/lkml/2021/8/31/738">Steve French</a><ul><li><a href="/lkml/2021/9/14/1423">Steve French</a></li></ul></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Tue, 31 Aug 2021 10:43:29 -0700</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: [GIT PULL] cifs/smb3 client fixes</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody">On Tue, Aug 31, 2021 at 10:09 AM Steve French &lt;smfrench&#64;gmail.com&gt; wrote:<br />&gt;<br />&gt;   So if you are ok with renaming the client dir and module<br />&gt; name - we can gradually stop using the word/name "cifs" except for the<br />&gt; parts of code which really are needed to access the (unfortunately<br />&gt; hundreds of millions of) very old devices which require SMB1 ("CIFS").<br /><br />I'm ok with directory renames, git handles it all well enough that the<br />pain should be fairly minimal.<br /><br />I'd ask for that to be done during a fairly calm cycle, though, when<br />there isn't a lot pending, so that any rename conflicts will be<br />minimized.<br /><br />&gt; We could even build two versions of the module "smb3.ko" which does not<br />&gt; include support for the less secure legacy dialects and "cifs.ko" which does<br />&gt; include it.   Is there a precedent for something similar.<br /><br />I'm not sure there is precedent for that, but that's not a huge issue per se.<br /><br />Whether it's actually worth it having two separate modules, I don't know.<br /><br />That said, I'm not entirely enamoured with the name "smb" as a module<br />(or directory) name, to put it lightly.<br /><br />Part of it is that it can mean "system management bus" too, although<br />in the kernel we happily universally (?) use "smbus" for that.<br /><br />But a big part of it is exactly the history of random different names,<br />which means that I'd like any new name to be more explicit than a TLA<br />that has been mis-used for so long.<br /><br />So yes, we have "fs/nfs/", but I'd rather _not_ have "fs/smb/".<br /><br />They may superficially look entirely equivalent - but one of them has<br />had a consistent name that is unambiguous and has no horrible naming<br />history. The other has not.<br /><br />&gt; Do you have any objections to me renaming the client's source<br />&gt; directory to "fs/smb3" (or fs/smb) and fs/smb3_common ...?<br /><br />So no objections to the rename per se, but can we please use a more<br />specific name that is *not* tainted by history?<br /><br />I'll throw out two suggestions, but they are just that: (a) "smbfs" or<br />(b) "smb-client".<br /><br />I think "smbfs" has the nice property of making it clear that this is<br />just the filesystem part of the smb protocols - that otherwise cover a<br />lot of other things too (at least historically printers, although I<br />have no idea how true that is any more).<br /><br />And "smb-client" as a name is in no way great, but at least it's not<br />just a TLA, and from a naming standpoint it would match the<br />"smb-common" thing (although I guess you used an underscore, not a<br />dash).<br /><br />Again - those are just two random suggestions, and I'm not married to<br />either of them, I just really don't like just that "smb" because of<br />all the historical naming baggage.<br /><br />So if we rename, we should rename it to something new and slightly<br />more specific than what we used to have.<br /><br />I'd rather have a module called "smbfs.ko" (or "smb-fs.ko" or<br />"smb-client.ko" etc) than "smb.ko".<br /><br />And no, I wouldn't want it to be called "smb3" either. Because it<br />clearly does cifs/smb1 and smb2 too (even if people would obviously<br />like to deprecate at least the older parts).<br /><br />Hmm? Is there some unambiguous name that is in use by the smb<br />community and would work?<br /><br />                 Linus<br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
