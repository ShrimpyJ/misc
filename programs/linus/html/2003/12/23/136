    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2003/12/22/122">First message in thread</a></li><li><a href="/lkml/2003/12/23/98">Mitchell Blank Jr</a><ul><li><a href="/lkml/2003/12/23/121">Mitchell Blank Jr</a><ul><li class="origin"><a href="/lkml/2003/12/23/162">Linus Torvalds</a><ul><li><a href="/lkml/2003/12/23/162">Charles Cazabon</a><ul><li><a href="/lkml/2003/12/23/164"> viro&#64;parcelfa ...</a></li><li><a href="/lkml/2003/12/23/165">Mitchell Blank Jr</a></li><li><a href="/lkml/2003/12/23/169">Matti Aarnio</a></li></ul></li><li><a href="/lkml/2003/12/23/170">Steven Cole</a><ul><li><a href="/lkml/2003/12/23/197">Mitchell Blank Jr</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2003/12/23/141">Mitchell Blank Jr</a><ul><li><a href="/lkml/2003/12/23/152">Linus Torvalds</a><ul><li><a href="/lkml/2003/12/23/156">Harry McGregor</a><ul><li><a href="/lkml/2003/12/23/159">Stan Bubrouski</a></li><li><a href="/lkml/2003/12/23/163">Disconnect</a></li></ul></li><li><a href="/lkml/2003/12/23/157">Stan Bubrouski</a></li><li><a href="/lkml/2003/12/23/158">Stan Bubrouski</a></li><li><a href="/lkml/2003/12/23/171">Stan Bubrouski</a></li><li><a href="/lkml/2003/12/23/201">Andries Brouwer</a><ul><li><a href="/lkml/2003/12/23/203">Mitchell Blank Jr</a></li><li><a href="/lkml/2003/12/23/206">Stan Bubrouski</a></li><li><a href="/lkml/2003/12/23/207">Linus Torvalds</a></li></ul></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Tue, 23 Dec 2003 09:25:53 -0800 (PST)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: SCO's infringing files list</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br />Bingo!<br /><br />On Tue, 23 Dec 2003, Mitchell Blank Jr wrote:<br />&gt; <br />&gt; This does seem to be the case - from an FAQ that H J Lu posted about that time:<br />&gt; <br />&gt; | From: hlu&#64;yoda.eecs.wsu.edu (H.J. Lu)<br />&gt; | Subject: FAQ about gcc (how to compile program under Linux)<br />&gt; | Date: Sun, 19 Jul 92 06:40:05 GMT<br />&gt; | [...]<br />&gt; | Another file, XXXXinc.tar.Z, where XXXX is the current version number<br />&gt; | of Linux kernel, has all the header files to replace the header files <br />&gt; | from kernel. YOU MUST INSTALL IT. Please read README for details.<br /><br />Ok, this is the source.<br /><br />In particular, I can re-create _exactly_ the linux-0.97 "errno.h" file by <br />using the "sys_errlist[]" contents from "libc-2.2.2". In particular, this <br />trivial loop will generate the exact (byte-for-byte) list that is in the <br />kernel:<br /><br />        int i;<br /><br />        for (i = 1; i &lt; 122; i++) {<br />                const char *name = names[i];<br />                int n = strlen(name);<br />                char *tabs = "\t\t"+(n &gt; 7);<br />                const char *expl = libc222_errlist[i];<br />                printf("#define\t%s%s%2d\t/* %s */\n",<br />                        name, tabs, i, expl);<br />        }<br /><br />here, the "names[]" array was filled in with the error names, ie<br /><br />	const char *names[] = { "none",<br />	"EPERM", "ENOENT", "ESRCH", "EINTR", "EIO", "ENXIO", "E2BIG",<br />	...<br /><br />and the "libc222_errlist[]" array was filled in with the strings found by <br />just downloading the old "libc-2.2.2" binary that can still be found at<br /><br />	<a href="http://www.ibiblio.org/pub/Linux/libs/oldlibs/libc-2.2.2/">http://www.ibiblio.org/pub/Linux/libs/oldlibs/libc-2.2.2/</a><br /><br />and then just doing a "strings - libc-2.2.2" and "sys_errlist[]" will be <br />obvious:<br /><br />	static char *libc222_errlist[] = {<br />	        "Unknown error",<br />	        "Operation not permitted",<br />	...<br /><br />This was literally a five-minute hack (I wrote the silly loop yesterday to<br />see what it does with the current "strerror()" - there is very good<br />correlation even today, but using the libc-2.2.2 sys_nerrlist[] you get<br />_exactly_ the same result).<br /><br />So this is definitely the source of the kernel error header. It's either a<br />file from the libc sources, or it is literally auto-generated like the<br />above (I actually suspect the latter - now that I did the auto-generation<br />it all felt very familiar, but that may just be my brain rationalizing<br />things. Humans are good at rationalizing reality.).<br /><br />Can anybody find the actual libc _sources_? Not the kernel headers that<br />hjl mentions (those are the old ones from _before_ the change), but the<br />file "libc-2.2.2.tar.Z"?<br /><br />Anyway, we know where the kernel header comes from. Let's figure out where <br />the libc data comes from.<br /><br />				Linus<br />-<br />To unsubscribe from this list: send the line "unsubscribe linux-kernel" in<br />the body of a message to majordomo&#64;vger.kernel.org<br />More majordomo info at  <a href="http://vger.kernel.org/majordomo-info.html">http://vger.kernel.org/majordomo-info.html</a><br />Please read the FAQ at  <a href="http://www.tux.org/lkml/">http://www.tux.org/lkml/</a><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
