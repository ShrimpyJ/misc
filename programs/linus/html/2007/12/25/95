    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2007/12/24/106">First message in thread</a></li><li><a href="/lkml/2007/12/25/42">Robert Hancock</a><ul><li><a href="/lkml/2007/12/25/46">"Rafael J. Wysocki"</a><ul><li class="origin"><a href="/lkml/2007/12/26/2">Linus Torvalds</a><ul><li><a href="/lkml/2007/12/26/2">Robert Hancock</a></li><li><a href="/lkml/2007/12/26/5">Avi Kivity</a></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Tue, 25 Dec 2007 20:29:02 -0800 (PST)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: x86: Increase PCIBIOS_MIN_IO to 0x1500 to fix nForce 4 suspend-to-RAM</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br /><br />On Tue, 25 Dec 2007, Rafael J. Wysocki wrote:<br />&gt; &gt;<br />&gt; &gt; Correct me if I'm wrong, but it appears ACPI 1.0 wants _PTS called <br />&gt; &gt; before any devices are suspended, ACPI 2.0 is contradictory, and ACPI <br />&gt; &gt; 3.0 says that you can't assume anything about device state. My guess is <br />&gt; &gt; that unless Windows has different behavior depending on ACPI version, it <br />&gt; &gt; probably has called _PTS before suspending devices all along. Therefore <br />&gt; &gt; it would likely be safest to emulate that behavior, no?<br />&gt; <br />&gt; Well, I don't think so.<br /><br />It would *definitely* always be safest to emulate what Windows does. <br /><br />&gt; In fact ACPI 3.0 repeats the 2.0 wording in section 9.1.6 (so the current<br />&gt; requirement seems to be to put devices into low power states before calling<br />&gt; _PTS) and I _guess_ there was a change in the default behavior of Windows that<br />&gt; caused the specification to be modified (I'd bet that was between 2000 and XP<br />&gt; or something like this).<br /><br />You seem to put a lot of trust in a piece of documentation.<br /><br />Do you realize how those pieces of paper are written? They are written by <br />people who have absolutely *nothing* to do with the actual implementation, <br />and whose job it is to write documentation. And while the people who <br />actually do the programming etc are supposed to help them, the two parties <br />generally detest each other.<br /><br />Technical writers hate the "real engineers" for not helping them, and the <br />"real engineers" tend to dislike having to be pestered to explain their <br />stuff and have to read through some document that isn't meant for them, <br />but that they need to sign off on.<br /><br />In other words: please do *not* expect that the documentation actually <br />matches reality. You seem to think that the documentation came first <br />and/or is quite accurate. That's not at all likely to be true.<br /><br />&gt; IMO, we should check which version of the specification we're supposed to<br />&gt; follow, on the basis of FADT contents, for example, and follow this one.<br /><br />No, we should try to figure out what Windows does. *If* windows checks the <br />version, we should do that too. But we should absolutely *not* just assume <br />that the documentation is an accurate picture of reality.<br /><br />Does anybody know how we could find out? <br /><br />			Linus<br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
