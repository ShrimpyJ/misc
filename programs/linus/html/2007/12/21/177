    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2007/12/7/181">First message in thread</a></li><li><a href="/lkml/2007/12/21/81">Ingo Molnar</a><ul><li><a href="/lkml/2007/12/21/90">Ingo Molnar</a><ul><li><a href="/lkml/2007/12/21/171">Christoph Lameter</a><ul><li><a href="/lkml/2007/12/21/175">Ingo Molnar</a><ul><li><a href="/lkml/2007/12/21/228">Christoph Lameter</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2007/12/21/168">Christoph Lameter</a><ul><li class="origin"><a href="/lkml/2007/12/21/233">Linus Torvalds</a><ul><li><a href="/lkml/2007/12/21/233">Christoph Lameter</a><ul><li><a href="/lkml/2007/12/21/234">Peter Zijlstra</a></li><li><a href="/lkml/2007/12/21/249">Linus Torvalds</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2007/12/21/184">"Pekka Enberg"</a><ul><li><a href="/lkml/2007/12/21/238">Christoph Lameter</a><ul><li><a href="/lkml/2007/12/21/244">Christoph Lameter</a><ul><li><a href="/lkml/2007/12/21/250">Linus Torvalds</a></li><li><a href="/lkml/2007/12/21/251">Steven Rostedt</a></li><li><a href="/lkml/2007/12/21/254">Ingo Molnar</a></li></ul></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Fri, 21 Dec 2007 08:44:42 -0800 (PST)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: Major regression on hackbench with SLUB (more numbers)</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br /><br />On Fri, 21 Dec 2007, Christoph Lameter wrote:<br />&gt; <br />&gt; So we have 3 different regimes here (order 0):<br />[ ... ]<br />&gt; The regression is contained because:<br />[ ... ]<br /><br />Christoph, *NONE* of these arguments matter at all.<br /><br />The only thing that matters is the simple fact that real-life benchmarks <br />show that SLUB is worse. It doesn't matter one whit that you can say that <br />it's better under some circumstance that either isn't triggered, or when <br />setting unrealistic and unusable parameters (ie big internal slab orders).<br /><br />&gt; We could address this issue by:<br />[...]<br />&gt; But given all the boundaries for the contention I would think that it is <br />&gt; not worth addressing. <br /><br />.. and this seems to be the single biggest reason to just say "revert SLUB <br />entirely".<br /><br />If you aren't even motivated to fix the problems that have been reported, <br />then SLUB isn't even a _potential_ solution, it's purely a problem, and <br />since I am not IN THE LEAST interested in having three different <br />allocators around, SLUB is going to get axed.<br /><br />In other words, here's the low-down:<br /><br /> a) either SLUB can replace SLAB, or SLUB is going away<br /><br />    This isn't open for discussion, Christoph. This was the rule back when <br />    it got merged in the first place.<br /><br /> b) if SLUB performs worse than SLAB on real loads (TPC-C certainly being <br />    one, and while hackbench may be borderline, it's certainly less <br />    borderline than others), then SLUB cannot replace SLAB.<br /><br />    See (a)<br /><br /> c) If you aren't even interested in trying to fix it and are ignoring <br />    the reports, there is not even a _potential_ for SLUB for getting over <br />    these problems, and I should disable it and we should get over it as <br />    soon as possible, and this whole discussion is pretty much ended.<br /><br />See? It really is that simple. Either you say "Hell yes, I'll fix it", or <br />SLUB goes away. There simply is no orther choice.<br /><br />When you say "not worth addressing", that to me is a clear an unambiguous <br />"let's remove SLUB".<br /><br />The main reason for SLUB in the first place was SGI concerns. You seem to <br />think that _only_ SGI concerns matter. Wrong. If SLUB remains a SGI-only <br />thing and you don't fix it for other users, then SLUB gets reverted from <br />the standard kernel.<br /><br />That's all. And it's not really worth discussing. <br /><br />			Linus<br /><br /><br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
