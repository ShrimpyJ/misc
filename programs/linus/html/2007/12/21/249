    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2007/12/7/181">First message in thread</a></li><li><a href="/lkml/2007/12/21/177">Linus Torvalds</a><ul><li><a href="/lkml/2007/12/21/233">Christoph Lameter</a><ul><li><a href="/lkml/2007/12/21/234">Peter Zijlstra</a><ul><li><a href="/lkml/2007/12/21/235">Peter Zijlstra</a><ul><li><a href="/lkml/2007/12/21/239">Christoph Lameter</a></li></ul></li></ul></li><li class="origin"><a href="">Linus Torvalds</a></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Fri, 21 Dec 2007 14:49:10 -0800 (PST)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: Major regression on hackbench with SLUB (more numbers)</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br /><br />On Fri, 21 Dec 2007, Christoph Lameter wrote:<br />&gt; <br />&gt; It obviously can replace it and has replaced it for awhile now.<br /><br />No. If there are 6% performance regressions on TPC-C, then it CAN NOT <br />replace it!<br /><br />&gt; Well still SLUB is really superior to SLAB in many ways....<br />&gt; <br />&gt; - SLUB is performance wise much faster than SLAB.<br /><br />No.<br /><br />Christoph, statements like this is *exactly* why I don't think SLUB can <br />make it.<br /><br />You're closing your eyes to real performace *regression* reports, and then <br />you claim thast SLUB is faster, because you find your own microbenchmarks <br />that show so for specific loads.<br /><br />But those specific loads are apparetly never the issue.<br /><br />So stop saying that SLUB is "much faster", as long as hackbench shows that <br />that is simply NOT THE CASE.<br /><br />It doesn't matter one whit if SLUB is lots faster, if it's faster for <br />cases that never matter. So far, I don't think we've *ever* seen any <br />actual benchmarks that involve any kind of real use where SLUB is <br />really faster, and we have some major examples of SLUB being disastrously <br />slower!<br /><br />Your special-case kmalloc performance tests don't matter, when real user <br />programs show the exact opposite effect.<br /><br />And the fact that you dismiss those real user programs just because you <br />have your own test harness is why I'm ready to throw in the towel on SLUB. <br /><br />I don't mind performance regressions, but I *do* mind performance <br />regressions when the main author then says "look, a helicopter!" and <br />points to some totally different thing and claims that the performance <br />regression doesn't even exist!<br /><br />Because those kinds of performance regressions never get fixed, because <br />they are ignored.<br /><br />		Linus<br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
