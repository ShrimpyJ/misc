    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2007/12/7/181">First message in thread</a></li><li><a href="/lkml/2007/12/22/96">Linus Torvalds</a><ul><li><a href="/lkml/2007/12/22/100">Ingo Molnar</a><ul><li><a href="/lkml/2007/12/22/104">Ingo Molnar</a></li><li><a href="/lkml/2007/12/22/138">Jason L Tibbitts III</a><ul><li><a href="/lkml/2007/12/23/225">"Alessandro Suardi"</a></li></ul></li></ul></li><li><a href="/lkml/2007/12/22/102">Theodore Tso</a><ul><li class="origin"><a href="/lkml/2007/12/22/122">Linus Torvalds</a><ul><li><a href="/lkml/2007/12/22/122">Al Viro</a><ul><li><a href="/lkml/2007/12/22/137">Al Viro</a></li></ul></li><li><a href="/lkml/2007/12/22/123">Willy Tarreau</a><ul><li><a href="/lkml/2007/12/22/145">Steven Rostedt</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2007/12/22/105">Andi Kleen</a><ul><li><a href="/lkml/2007/12/22/136">"Karol Swietlicki"</a><ul><li><a href="/lkml/2007/12/29/84">"Karol Swietlicki"</a></li></ul></li></ul></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Sat, 22 Dec 2007 13:00:09 -0800 (PST)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: Major regression on hackbench with SLUB (more numbers)</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br /><br />On Sat, 22 Dec 2007, Theodore Tso wrote:<br />&gt; <br />&gt; I have a general problem with things in /sys/slab, and that's just<br />&gt; because they are *ugly*.  So yes, you can write ugly shell scripts<br />&gt; like this to get out information:<br /><br />[ script deleted ]<br /><br />&gt; But sometimes when trying to eyeball what is going on, it's a lot<br />&gt; nicer just to use "cat /proc/slabinfo".  <br /><br />.. and I call BS on this claim.<br /><br />/proc/slabinfo was (and is) totally pointless for "trying to eyeball <br />what's going on". The output is totally unreadable, and useless. You end <br />up with exactly the same script as above, except it reads as<br /><br />	cat /proc/slabinfo | (read headerline<br />		while read name active num objsize objsperslab pagesperslab rest<br />		do<br />			realsize=$(( nul * objsize ))<br />			size=$(( active * objsize ))<br />			.. exact same rest of loop ..<br />		done | sort -n | ..<br /><br />so no, "cat /proc/slabinfo" was almost never practical on its own.<br /><br />The *one* advantage it does have is that you can forward it to others. <br />That's a big advantage. But no, it wasn't ever readable for eyeballing, <br />because it doesn't even give you a memory usage thing (just "number of <br />objects and object size" as separate numbers).<br /><br />But the "everything in one file" indubitably did make it a lot easier for <br />just attaching it to bug-reports.<br /><br />&gt; Another problem with using /sys/slab is that it is downright *ugly*.<br />&gt; Why is it for example, that /sys/slab/dentry is a symlink to<br />&gt; ../slab/:a-0000160?<br /><br />That's the only really ugly thing there. Otherwise, it's pretty nice, but <br />having a million files makes for problems when trying to send somebody <br />else the full info. <br /><br />		Linus<br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
