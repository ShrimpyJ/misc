    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2007/7/19/539">First message in thread</a></li><li><a href="/lkml/2007/7/19/539">Ingo Molnar</a><ul><li class="origin"><a href="/lkml/2007/7/19/558">Linus Torvalds</a><ul><li><a href="/lkml/2007/7/19/558">Ingo Molnar</a></li><li><a href="/lkml/2007/7/19/559">Linus Torvalds</a><ul><li><a href="/lkml/2007/7/19/640">Andi Kleen</a></li><li><a href="/lkml/2007/7/23/439">Christoph Lameter</a></li></ul></li></ul></li><li><a href="/lkml/2007/7/20/294">Fernando Lopez-Lezcano</a><ul><li><a href="/lkml/2007/7/20/345">Ingo Molnar</a></li></ul></li></ul></li></ul><div class="threadlist">Patch in this message</div><ul class="threadlist"><li><a href="/lkml/diff/2007/7/19/554/1">Get diff 1</a></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js"></script><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Thu, 19 Jul 2007 13:09:04 -0700 (PDT)</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: [patch] slub crashes with recent -git</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody"><br /><br />On Thu, 19 Jul 2007, Ingo Molnar wrote:<br />&gt; <br />&gt; i had to apply the patch below to make the kernel boot again.<br /><br />A better patch should be the appended. Does that work for you too?<br /><br />		Linus<br />---<br /> mm/slub.c |    2 +-<br /> 1 files changed, 1 insertions(+), 1 deletions(-)<br /><br />diff --git a/mm/slub.c b/mm/slub.c<br />index 52a4f44..322f3a5 100644<br />--- a/mm/slub.c<br />+++ b/mm/slub.c<br />&#64;&#64; -2394,7 +2394,7 &#64;&#64; size_t ksize(const void *object)<br /> 	struct page *page;<br /> 	struct kmem_cache *s;<br /> <br />-	if (object == ZERO_SIZE_PTR)<br />+	if (ZERO_OR_NULL_PTR(object))<br /> 		return 0;<br /> <br /> 	page = get_object_page(object);<br />-<br />To unsubscribe from this list: send the line "unsubscribe linux-kernel" in<br />the body of a message to majordomo&#64;vger.kernel.org<br />More majordomo info at  <a href="http://vger.kernel.org/majordomo-info.html">http://vger.kernel.org/majordomo-info.html</a><br />Please read the FAQ at  <a href="http://www.tux.org/lkml/">http://www.tux.org/lkml/</a><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
