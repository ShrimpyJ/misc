    </div></td><td width="32">Â </td></tr><tr><td valign="top"><div class="es-jasper-simpleCalendar" baseurl="/lkml/"></div><div class="threadlist">Messages in this thread</div><ul class="threadlist"><li class="root"><a href="/lkml/2015/12/21/547">First message in thread</a></li><li><a href="/lkml/2015/12/21/547">Al Viro</a><ul><li><a href="/lkml/2015/12/21/548">Al Viro</a></li><li><a href="/lkml/2015/12/21/549">Al Viro</a></li><li><a href="/lkml/2015/12/21/550">Al Viro</a></li><li><a href="/lkml/2015/12/21/551">Al Viro</a></li><li><a href="/lkml/2015/12/21/552">Al Viro</a></li><li><a href="/lkml/2015/12/21/553">Al Viro</a></li><li><a href="/lkml/2015/12/21/554">Al Viro</a></li><li><a href="/lkml/2015/12/21/556">Al Viro</a></li><li><a href="/lkml/2015/12/21/557">Al Viro</a></li><li><a href="/lkml/2015/12/21/559">Al Viro</a></li><li><a href="/lkml/2015/12/21/560">Al Viro</a></li><li><a href="/lkml/2015/12/21/561">Al Viro</a></li><li><a href="/lkml/2015/12/21/562">Al Viro</a></li><li><a href="/lkml/2015/12/21/563">Al Viro</a></li><li><a href="/lkml/2015/12/21/564">Al Viro</a></li><li><a href="/lkml/2015/12/21/565">Al Viro</a></li><li><a href="/lkml/2015/12/21/566">Al Viro</a></li><li><a href="/lkml/2015/12/21/568">Al Viro</a></li><li><a href="/lkml/2015/12/21/569">Al Viro</a></li><li><a href="/lkml/2015/12/21/570">Al Viro</a></li><li><a href="/lkml/2015/12/21/571">Al Viro</a></li><li><a href="/lkml/2015/12/21/572">Al Viro</a></li><li><a href="/lkml/2015/12/21/574">Al Viro</a></li><li><a href="/lkml/2015/12/21/575">Al Viro</a></li><li><a href="/lkml/2015/12/21/576">Al Viro</a></li><li><a href="/lkml/2015/12/21/577">Al Viro</a></li><li><a href="/lkml/2015/12/21/578">Al Viro</a></li><li><a href="/lkml/2015/12/21/579">Al Viro</a></li><li><a href="/lkml/2015/12/21/580">Al Viro</a></li><li><a href="/lkml/2015/12/21/581">Al Viro</a></li><li><a href="/lkml/2015/12/21/582">Al Viro</a></li><li><a href="/lkml/2015/12/21/583">Al Viro</a></li><li><a href="/lkml/2015/12/21/584">Al Viro</a></li><li><a href="/lkml/2015/12/21/585">Al Viro</a></li><li><a href="/lkml/2015/12/21/586">Al Viro</a></li><li><a href="/lkml/2015/12/21/587">Al Viro</a></li><li><a href="/lkml/2015/12/21/588">Al Viro</a></li><li><a href="/lkml/2015/12/21/589">Al Viro</a></li><li><a href="/lkml/2015/12/21/590">Al Viro</a></li><li><a href="/lkml/2015/12/21/591">Al Viro</a></li><li><a href="/lkml/2015/12/21/592">Al Viro</a></li><li><a href="/lkml/2015/12/21/593">Al Viro</a></li><li><a href="/lkml/2015/12/21/594">Al Viro</a></li><li><a href="/lkml/2015/12/21/595">Al Viro</a></li><li><a href="/lkml/2015/12/21/596">Al Viro</a></li><li><a href="/lkml/2015/12/21/597">Al Viro</a></li><li><a href="/lkml/2015/12/21/598">Al Viro</a></li><li><a href="/lkml/2015/12/21/599">Al Viro</a></li><li><a href="/lkml/2015/12/21/600">Al Viro</a></li><li><a href="/lkml/2015/12/21/601">Al Viro</a></li><li><a href="/lkml/2015/12/21/602">Al Viro</a></li><li class="origin"><a href="/lkml/2015/12/21/659">Linus Torvalds</a><ul><li><a href="/lkml/2015/12/21/659">Al Viro</a><ul><li><a href="/lkml/2015/12/21/664">Linus Torvalds</a><ul><li><a href="/lkml/2015/12/21/758">Al Viro</a></li></ul></li><li><a href="/lkml/2015/12/21/674">Al Viro</a><ul><li><a href="/lkml/2015/12/22/125">Geert Uytterhoeven</a></li></ul></li></ul></li></ul></li><li><a href="/lkml/2015/12/21/606">Al Viro</a></li><li><a href="/lkml/2015/12/21/607">Al Viro</a></li><li><a href="/lkml/2015/12/21/608">Al Viro</a></li><li><a href="/lkml/2015/12/21/609">Al Viro</a></li><li><a href="/lkml/2015/12/21/610">Al Viro</a></li><li><a href="/lkml/2015/12/21/611">Al Viro</a></li><li><a href="/lkml/2015/12/21/612">Al Viro</a></li><li><a href="/lkml/2015/12/21/613">Al Viro</a></li><li><a href="/lkml/2015/12/21/614">Al Viro</a></li><li><a href="/lkml/2015/12/21/616">Al Viro</a></li><li><a href="/lkml/2015/12/21/617">Al Viro</a></li><li><a href="/lkml/2015/12/21/618">Al Viro</a></li><li><a href="/lkml/2015/12/21/619">Al Viro</a></li><li><a href="/lkml/2015/12/21/620">Al Viro</a></li><li><a href="/lkml/2015/12/21/621">Al Viro</a></li><li><a href="/lkml/2015/12/21/622">Al Viro</a></li><li><a href="/lkml/2015/12/21/623">Al Viro</a></li><li><a href="/lkml/2015/12/21/624">Al Viro</a></li><li><a href="/lkml/2015/12/21/626">Al Viro</a></li><li><a href="/lkml/2015/12/21/627">Al Viro</a></li><li><a href="/lkml/2015/12/21/628">Al Viro</a></li><li><a href="/lkml/2015/12/21/629">Al Viro</a></li><li><a href="/lkml/2015/12/21/630">Al Viro</a></li><li><a href="/lkml/2015/12/21/631">Al Viro</a></li><li><a href="/lkml/2015/12/21/632">Al Viro</a></li><li><a href="/lkml/2015/12/21/633">Al Viro</a></li><li><a href="/lkml/2015/12/21/634">Al Viro</a></li><li><a href="/lkml/2015/12/21/635">Al Viro</a></li><li><a href="/lkml/2015/12/21/636">Al Viro</a></li><li><a href="/lkml/2015/12/21/638">Al Viro</a></li><li><a href="/lkml/2015/12/21/639">Al Viro</a></li><li><a href="/lkml/2015/12/21/640">Al Viro</a></li></ul></li></ul></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerl.gif" width="32" height="32" alt="/" /></td><td class="c" rowspan="2" valign="top" style="padding-top: 1em"><table><tr><td colspan="2"><!--BuySellAds Zone Code--><div id="bsap_1297613" class="bsarocks bsap_5aa49c00cc06c882289a1dd6a5e50b62"></div><!--End BuySellAds Zone Code--></td></tr><tr><td><table><tr><td class="lp">Date</td><td class="rp" itemprop="datePublished">Mon, 21 Dec 2015 16:03:11 -0800</td></tr><tr><td class="lp">Subject</td><td class="rp" itemprop="name">Re: [RFC] free_pages stuff</td></tr><tr><td class="lp">From</td><td class="rp" itemprop="author">Linus Torvalds &lt;&gt;</td></tr></table></td><td><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></td></tr></table><pre itemprop="articleBody">On Mon, Dec 21, 2015 at 3:46 PM, Al Viro &lt;viro&#64;zeniv.linux.org.uk&gt; wrote:<br />&gt;         FWIW, I'd done a proof-of-concept patch series converting the things<br />&gt; to<br />&gt;         * free_page() and free_pages() taking the address to free as a pointer<br />&gt;         * get_zeroed_page() returning a pointer<br />&gt;         * get_free_page()/get_free_pages() added, both returning a pointer<br />&gt;         * __get_dma_pages() replaced with get_dma_page() (again, returns<br />&gt; a pointer)<br /><br />Absolutely not.<br /><br />I will not take this, and it's stupid in the extreme.<br /><br />No way in hell do we suddenly change the semantics of an interface<br />that has been around from basically day #1. That's just crazy talk.<br /><br />Just looking at the diffstat should have made you realize that this is<br />stupid. The confusion it causes, the pain it causes for backports, and<br />just the fundamental idiocy of changing an long-standing interface<br />without changing the name is just not acceptable.<br /><br />If you want to have versions of the function that return pointers, you<br />had damn well better give them new names. Not use the same name for a<br />different function, causing confusion and forcing this kind of crazy<br />"change everything at once" flag-day patches, and pain for<br />backporting.<br /><br />And quite frankly, even the "new name" is likely a bad idea. If you<br />want to allocate a page, and get a pointer, just use "kmalloc()".<br />Boom, done!<br /><br />So I don't know how many ways I can say "NO", but I'll not take<br />anythign like this. It's *completely* wrong.<br /><br />                 Linus<br /><br /><br /></pre><div align="center"><div class="shariff" data-services="[&quot;reddit&quot;]" data-theme="grey" data-lang="en" data-backend-url="//shariff.lkml.org/index.php"></div></div></td><td width="32" rowspan="2" class="c" valign="top"><img src="/images/icornerr.gif" width="32" height="32" alt="\" /></td></tr><tr><td align="right" valign="bottom">
